function t(t,e,n,r){Object.defineProperty(t,e,{get:n,set:r,enumerable:!0,configurable:!0})}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},i=e.parcelRequire3ff0;null==i&&((i=function(t){if(t in n)return n[t].exports;if(t in r){var e=r[t];delete r[t];var i={id:t,exports:{}};return n[t]=i,e.call(i.exports,i,i.exports),i.exports}var o=new Error("Cannot find module '"+t+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(t,e){r[t]=e},e.parcelRequire3ff0=i),i.register("27Lyk",(function(e,n){var r,i;t(e.exports,"register",(()=>r),(t=>r=t)),t(e.exports,"resolve",(()=>i),(t=>i=t));var o={};r=function(t){for(var e=Object.keys(t),n=0;n<e.length;n++)o[e[n]]=t[e[n]]},i=function(t){var e=o[t];if(null==e)throw new Error("Could not resolve bundle with id "+t);return e}})),i.register("f1q41",(function(t,n){(function(){var r,i=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",s="Expected a function",a="Invalid `variable` option passed into `_.template`",u="__lodash_hash_undefined__",c=500,l="__lodash_placeholder__",h=1,f=2,p=4,d=1,g=2,v=1,m=2,_=4,y=8,w=16,b=32,x=64,k=128,E=256,C=512,R=30,A="...",L=800,S=16,I=1,j=2,T=1/0,z=9007199254740991,O=17976931348623157e292,P=NaN,U=4294967295,B=U-1,M=U>>>1,N=[["ary",k],["bind",v],["bindKey",m],["curry",y],["curryRight",w],["flip",C],["partial",b],["partialRight",x],["rearg",E]],F="[object Arguments]",H="[object Array]",V="[object AsyncFunction]",$="[object Boolean]",W="[object Date]",D="[object DOMException]",q="[object Error]",G="[object Function]",Y="[object GeneratorFunction]",Z="[object Map]",J="[object Number]",K="[object Null]",X="[object Object]",Q="[object Promise]",tt="[object Proxy]",et="[object RegExp]",nt="[object Set]",rt="[object String]",it="[object Symbol]",ot="[object Undefined]",st="[object WeakMap]",at="[object WeakSet]",ut="[object ArrayBuffer]",ct="[object DataView]",lt="[object Float32Array]",ht="[object Float64Array]",ft="[object Int8Array]",pt="[object Int16Array]",dt="[object Int32Array]",gt="[object Uint8Array]",vt="[object Uint8ClampedArray]",mt="[object Uint16Array]",_t="[object Uint32Array]",yt=/\b__p \+= '';/g,wt=/\b(__p \+=) '' \+/g,bt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,xt=/&(?:amp|lt|gt|quot|#39);/g,kt=/[&<>"']/g,Et=RegExp(xt.source),Ct=RegExp(kt.source),Rt=/<%-([\s\S]+?)%>/g,At=/<%([\s\S]+?)%>/g,Lt=/<%=([\s\S]+?)%>/g,St=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,It=/^\w*$/,jt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Tt=/[\\^$.*+?()[\]{}|]/g,zt=RegExp(Tt.source),Ot=/^\s+/,Pt=/\s/,Ut=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Bt=/\{\n\/\* \[wrapped with (.+)\] \*/,Mt=/,? & /,Nt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ft=/[()=,{}\[\]\/\s]/,Ht=/\\(\\)?/g,Vt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,$t=/\w*$/,Wt=/^[-+]0x[0-9a-f]+$/i,Dt=/^0b[01]+$/i,qt=/^\[object .+?Constructor\]$/,Gt=/^0o[0-7]+$/i,Yt=/^(?:0|[1-9]\d*)$/,Zt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Jt=/($^)/,Kt=/['\n\r\u2028\u2029\\]/g,Xt="\ud800-\udfff",Qt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",te="\\u2700-\\u27bf",ee="a-z\\xdf-\\xf6\\xf8-\\xff",ne="A-Z\\xc0-\\xd6\\xd8-\\xde",re="\\ufe0e\\ufe0f",ie="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",oe="['’]",se="[\ud800-\udfff]",ae="["+ie+"]",ue="["+Qt+"]",ce="\\d+",le="["+te+"]",he="["+ee+"]",fe="[^"+Xt+ie+ce+te+ee+ne+"]",pe="\ud83c[\udffb-\udfff]",de="[^\ud800-\udfff]",ge="(?:\ud83c[\udde6-\uddff]){2}",ve="[\ud800-\udbff][\udc00-\udfff]",me="["+ne+"]",_e="\\u200d",ye="(?:"+he+"|"+fe+")",we="(?:"+me+"|"+fe+")",be="(?:['’](?:d|ll|m|re|s|t|ve))?",xe="(?:['’](?:D|LL|M|RE|S|T|VE))?",ke="(?:"+ue+"|"+pe+")"+"?",Ee="["+re+"]?",Ce=Ee+ke+("(?:"+_e+"(?:"+[de,ge,ve].join("|")+")"+Ee+ke+")*"),Re="(?:"+[le,ge,ve].join("|")+")"+Ce,Ae="(?:"+[de+ue+"?",ue,ge,ve,se].join("|")+")",Le=RegExp(oe,"g"),Se=RegExp(ue,"g"),Ie=RegExp(pe+"(?="+pe+")|"+Ae+Ce,"g"),je=RegExp([me+"?"+he+"+"+be+"(?="+[ae,me,"$"].join("|")+")",we+"+"+xe+"(?="+[ae,me+ye,"$"].join("|")+")",me+"?"+ye+"+"+be,me+"+"+xe,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ce,Re].join("|"),"g"),Te=RegExp("["+_e+Xt+Qt+re+"]"),ze=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Oe=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Pe=-1,Ue={};Ue[lt]=Ue[ht]=Ue[ft]=Ue[pt]=Ue[dt]=Ue[gt]=Ue[vt]=Ue[mt]=Ue[_t]=!0,Ue[F]=Ue[H]=Ue[ut]=Ue[$]=Ue[ct]=Ue[W]=Ue[q]=Ue[G]=Ue[Z]=Ue[J]=Ue[X]=Ue[et]=Ue[nt]=Ue[rt]=Ue[st]=!1;var Be={};Be[F]=Be[H]=Be[ut]=Be[ct]=Be[$]=Be[W]=Be[lt]=Be[ht]=Be[ft]=Be[pt]=Be[dt]=Be[Z]=Be[J]=Be[X]=Be[et]=Be[nt]=Be[rt]=Be[it]=Be[gt]=Be[vt]=Be[mt]=Be[_t]=!0,Be[q]=Be[G]=Be[st]=!1;var Me={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ne=parseFloat,Fe=parseInt,He="object"==typeof e&&e&&e.Object===Object&&e,Ve="object"==typeof self&&self&&self.Object===Object&&self,$e=He||Ve||Function("return this")(),We=n&&!n.nodeType&&n,De=We&&t&&!t.nodeType&&t,qe=De&&De.exports===We,Ge=qe&&He.process,Ye=function(){try{var t=De&&De.require&&De.require("util").types;return t||Ge&&Ge.binding&&Ge.binding("util")}catch(t){}}(),Ze=Ye&&Ye.isArrayBuffer,Je=Ye&&Ye.isDate,Ke=Ye&&Ye.isMap,Xe=Ye&&Ye.isRegExp,Qe=Ye&&Ye.isSet,tn=Ye&&Ye.isTypedArray;function en(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function nn(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var s=t[i];e(r,s,n(s),t)}return r}function rn(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function on(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function sn(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function an(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}function un(t,e){return!!(null==t?0:t.length)&&_n(t,e,0)>-1}function cn(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function ln(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function hn(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function fn(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function pn(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function dn(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var gn=xn("length");function vn(t,e,n){var r;return n(t,(function(t,n,i){if(e(t,n,i))return r=n,!1})),r}function mn(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function _n(t,e,n){return e==e?function(t,e,n){var r=n-1,i=t.length;for(;++r<i;)if(t[r]===e)return r;return-1}(t,e,n):mn(t,wn,n)}function yn(t,e,n,r){for(var i=n-1,o=t.length;++i<o;)if(r(t[i],e))return i;return-1}function wn(t){return t!=t}function bn(t,e){var n=null==t?0:t.length;return n?Cn(t,e)/n:P}function xn(t){return function(e){return null==e?r:e[t]}}function kn(t){return function(e){return null==t?r:t[e]}}function En(t,e,n,r,i){return i(t,(function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)})),n}function Cn(t,e){for(var n,i=-1,o=t.length;++i<o;){var s=e(t[i]);s!==r&&(n=n===r?s:n+s)}return n}function Rn(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function An(t){return t?t.slice(0,$n(t)+1).replace(Ot,""):t}function Ln(t){return function(e){return t(e)}}function Sn(t,e){return ln(e,(function(e){return t[e]}))}function In(t,e){return t.has(e)}function jn(t,e){for(var n=-1,r=t.length;++n<r&&_n(e,t[n],0)>-1;);return n}function Tn(t,e){for(var n=t.length;n--&&_n(e,t[n],0)>-1;);return n}var zn=kn({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),On=kn({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Pn(t){return"\\"+Me[t]}function Un(t){return Te.test(t)}function Bn(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function Mn(t,e){return function(n){return t(e(n))}}function Nn(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var s=t[n];s!==e&&s!==l||(t[n]=l,o[i++]=n)}return o}function Fn(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}function Hn(t){return Un(t)?function(t){var e=Ie.lastIndex=0;for(;Ie.test(t);)++e;return e}(t):gn(t)}function Vn(t){return Un(t)?function(t){return t.match(Ie)||[]}(t):function(t){return t.split("")}(t)}function $n(t){for(var e=t.length;e--&&Pt.test(t.charAt(e)););return e}var Wn=kn({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Dn=function t(e){var n,Pt=(e=null==e?$e:Dn.defaults($e.Object(),e,Dn.pick($e,Oe))).Array,Xt=e.Date,Qt=e.Error,te=e.Function,ee=e.Math,ne=e.Object,re=e.RegExp,ie=e.String,oe=e.TypeError,se=Pt.prototype,ae=te.prototype,ue=ne.prototype,ce=e["__core-js_shared__"],le=ae.toString,he=ue.hasOwnProperty,fe=0,pe=(n=/[^.]+$/.exec(ce&&ce.keys&&ce.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",de=ue.toString,ge=le.call(ne),ve=$e._,me=re("^"+le.call(he).replace(Tt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_e=qe?e.Buffer:r,ye=e.Symbol,we=e.Uint8Array,be=_e?_e.allocUnsafe:r,xe=Mn(ne.getPrototypeOf,ne),ke=ne.create,Ee=ue.propertyIsEnumerable,Ce=se.splice,Re=ye?ye.isConcatSpreadable:r,Ae=ye?ye.iterator:r,Ie=ye?ye.toStringTag:r,Te=function(){try{var t=Ho(ne,"defineProperty");return t({},"",{}),t}catch(t){}}(),Me=e.clearTimeout!==$e.clearTimeout&&e.clearTimeout,He=Xt&&Xt.now!==$e.Date.now&&Xt.now,Ve=e.setTimeout!==$e.setTimeout&&e.setTimeout,We=ee.ceil,De=ee.floor,Ge=ne.getOwnPropertySymbols,Ye=_e?_e.isBuffer:r,gn=e.isFinite,kn=se.join,qn=Mn(ne.keys,ne),Gn=ee.max,Yn=ee.min,Zn=Xt.now,Jn=e.parseInt,Kn=ee.random,Xn=se.reverse,Qn=Ho(e,"DataView"),tr=Ho(e,"Map"),er=Ho(e,"Promise"),nr=Ho(e,"Set"),rr=Ho(e,"WeakMap"),ir=Ho(ne,"create"),or=rr&&new rr,sr={},ar=ps(Qn),ur=ps(tr),cr=ps(er),lr=ps(nr),hr=ps(rr),fr=ye?ye.prototype:r,pr=fr?fr.valueOf:r,dr=fr?fr.toString:r;function gr(t){if(Ia(t)&&!ya(t)&&!(t instanceof yr)){if(t instanceof _r)return t;if(he.call(t,"__wrapped__"))return ds(t)}return new _r(t)}var vr=function(){function t(){}return function(e){if(!Sa(e))return{};if(ke)return ke(e);t.prototype=e;var n=new t;return t.prototype=r,n}}();function mr(){}function _r(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=r}function yr(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=U,this.__views__=[]}function wr(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function br(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function xr(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function kr(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new xr;++e<n;)this.add(t[e])}function Er(t){var e=this.__data__=new br(t);this.size=e.size}function Cr(t,e){var n=ya(t),r=!n&&_a(t),i=!n&&!r&&ka(t),o=!n&&!r&&!i&&Ma(t),s=n||r||i||o,a=s?Rn(t.length,ie):[],u=a.length;for(var c in t)!e&&!he.call(t,c)||s&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Yo(c,u))||a.push(c);return a}function Rr(t){var e=t.length;return e?t[ki(0,e-1)]:r}function Ar(t,e){return ls(io(t),Ur(e,0,t.length))}function Lr(t){return ls(io(t))}function Sr(t,e,n){(n!==r&&!ga(t[e],n)||n===r&&!(e in t))&&Or(t,e,n)}function Ir(t,e,n){var i=t[e];he.call(t,e)&&ga(i,n)&&(n!==r||e in t)||Or(t,e,n)}function jr(t,e){for(var n=t.length;n--;)if(ga(t[n][0],e))return n;return-1}function Tr(t,e,n,r){return Hr(t,(function(t,i,o){e(r,t,n(t),o)})),r}function zr(t,e){return t&&oo(e,su(e),t)}function Or(t,e,n){"__proto__"==e&&Te?Te(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Pr(t,e){for(var n=-1,i=e.length,o=Pt(i),s=null==t;++n<i;)o[n]=s?r:eu(t,e[n]);return o}function Ur(t,e,n){return t==t&&(n!==r&&(t=t<=n?t:n),e!==r&&(t=t>=e?t:e)),t}function Br(t,e,n,i,o,s){var a,u=e&h,c=e&f,l=e&p;if(n&&(a=o?n(t,i,o,s):n(t)),a!==r)return a;if(!Sa(t))return t;var d=ya(t);if(d){if(a=function(t){var e=t.length,n=new t.constructor(e);e&&"string"==typeof t[0]&&he.call(t,"index")&&(n.index=t.index,n.input=t.input);return n}(t),!u)return io(t,a)}else{var g=Wo(t),v=g==G||g==Y;if(ka(t))return Xi(t,u);if(g==X||g==F||v&&!o){if(a=c||v?{}:qo(t),!u)return c?function(t,e){return oo(t,$o(t),e)}(t,function(t,e){return t&&oo(e,au(e),t)}(a,t)):function(t,e){return oo(t,Vo(t),e)}(t,zr(a,t))}else{if(!Be[g])return o?t:{};a=function(t,e,n){var r=t.constructor;switch(e){case ut:return Qi(t);case $:case W:return new r(+t);case ct:return function(t,e){var n=e?Qi(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case lt:case ht:case ft:case pt:case dt:case gt:case vt:case mt:case _t:return to(t,n);case Z:return new r;case J:case rt:return new r(t);case et:return function(t){var e=new t.constructor(t.source,$t.exec(t));return e.lastIndex=t.lastIndex,e}(t);case nt:return new r;case it:return i=t,pr?ne(pr.call(i)):{}}var i}(t,g,u)}}s||(s=new Er);var m=s.get(t);if(m)return m;s.set(t,a),Pa(t)?t.forEach((function(r){a.add(Br(r,e,n,r,t,s))})):ja(t)&&t.forEach((function(r,i){a.set(i,Br(r,e,n,i,t,s))}));var _=d?r:(l?c?Oo:zo:c?au:su)(t);return rn(_||t,(function(r,i){_&&(r=t[i=r]),Ir(a,i,Br(r,e,n,i,t,s))})),a}function Mr(t,e,n){var i=n.length;if(null==t)return!i;for(t=ne(t);i--;){var o=n[i],s=e[o],a=t[o];if(a===r&&!(o in t)||!s(a))return!1}return!0}function Nr(t,e,n){if("function"!=typeof t)throw new oe(s);return ss((function(){t.apply(r,n)}),e)}function Fr(t,e,n,r){var o=-1,s=un,a=!0,u=t.length,c=[],l=e.length;if(!u)return c;n&&(e=ln(e,Ln(n))),r?(s=cn,a=!1):e.length>=i&&(s=In,a=!1,e=new kr(e));t:for(;++o<u;){var h=t[o],f=null==n?h:n(h);if(h=r||0!==h?h:0,a&&f==f){for(var p=l;p--;)if(e[p]===f)continue t;c.push(h)}else s(e,f,r)||c.push(h)}return c}gr.templateSettings={escape:Rt,evaluate:At,interpolate:Lt,variable:"",imports:{_:gr}},gr.prototype=mr.prototype,gr.prototype.constructor=gr,_r.prototype=vr(mr.prototype),_r.prototype.constructor=_r,yr.prototype=vr(mr.prototype),yr.prototype.constructor=yr,wr.prototype.clear=function(){this.__data__=ir?ir(null):{},this.size=0},wr.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},wr.prototype.get=function(t){var e=this.__data__;if(ir){var n=e[t];return n===u?r:n}return he.call(e,t)?e[t]:r},wr.prototype.has=function(t){var e=this.__data__;return ir?e[t]!==r:he.call(e,t)},wr.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=ir&&e===r?u:e,this},br.prototype.clear=function(){this.__data__=[],this.size=0},br.prototype.delete=function(t){var e=this.__data__,n=jr(e,t);return!(n<0)&&(n==e.length-1?e.pop():Ce.call(e,n,1),--this.size,!0)},br.prototype.get=function(t){var e=this.__data__,n=jr(e,t);return n<0?r:e[n][1]},br.prototype.has=function(t){return jr(this.__data__,t)>-1},br.prototype.set=function(t,e){var n=this.__data__,r=jr(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},xr.prototype.clear=function(){this.size=0,this.__data__={hash:new wr,map:new(tr||br),string:new wr}},xr.prototype.delete=function(t){var e=No(this,t).delete(t);return this.size-=e?1:0,e},xr.prototype.get=function(t){return No(this,t).get(t)},xr.prototype.has=function(t){return No(this,t).has(t)},xr.prototype.set=function(t,e){var n=No(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},kr.prototype.add=kr.prototype.push=function(t){return this.__data__.set(t,u),this},kr.prototype.has=function(t){return this.__data__.has(t)},Er.prototype.clear=function(){this.__data__=new br,this.size=0},Er.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Er.prototype.get=function(t){return this.__data__.get(t)},Er.prototype.has=function(t){return this.__data__.has(t)},Er.prototype.set=function(t,e){var n=this.__data__;if(n instanceof br){var r=n.__data__;if(!tr||r.length<i-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new xr(r)}return n.set(t,e),this.size=n.size,this};var Hr=uo(Zr),Vr=uo(Jr,!0);function $r(t,e){var n=!0;return Hr(t,(function(t,r,i){return n=!!e(t,r,i)})),n}function Wr(t,e,n){for(var i=-1,o=t.length;++i<o;){var s=t[i],a=e(s);if(null!=a&&(u===r?a==a&&!Ba(a):n(a,u)))var u=a,c=s}return c}function Dr(t,e){var n=[];return Hr(t,(function(t,r,i){e(t,r,i)&&n.push(t)})),n}function qr(t,e,n,r,i){var o=-1,s=t.length;for(n||(n=Go),i||(i=[]);++o<s;){var a=t[o];e>0&&n(a)?e>1?qr(a,e-1,n,r,i):hn(i,a):r||(i[i.length]=a)}return i}var Gr=co(),Yr=co(!0);function Zr(t,e){return t&&Gr(t,e,su)}function Jr(t,e){return t&&Yr(t,e,su)}function Kr(t,e){return an(e,(function(e){return Ra(t[e])}))}function Xr(t,e){for(var n=0,i=(e=Yi(e,t)).length;null!=t&&n<i;)t=t[fs(e[n++])];return n&&n==i?t:r}function Qr(t,e,n){var r=e(t);return ya(t)?r:hn(r,n(t))}function ti(t){return null==t?t===r?ot:K:Ie&&Ie in ne(t)?function(t){var e=he.call(t,Ie),n=t[Ie];try{t[Ie]=r;var i=!0}catch(t){}var o=de.call(t);i&&(e?t[Ie]=n:delete t[Ie]);return o}(t):function(t){return de.call(t)}(t)}function ei(t,e){return t>e}function ni(t,e){return null!=t&&he.call(t,e)}function ri(t,e){return null!=t&&e in ne(t)}function ii(t,e,n){for(var i=n?cn:un,o=t[0].length,s=t.length,a=s,u=Pt(s),c=1/0,l=[];a--;){var h=t[a];a&&e&&(h=ln(h,Ln(e))),c=Yn(h.length,c),u[a]=!n&&(e||o>=120&&h.length>=120)?new kr(a&&h):r}h=t[0];var f=-1,p=u[0];t:for(;++f<o&&l.length<c;){var d=h[f],g=e?e(d):d;if(d=n||0!==d?d:0,!(p?In(p,g):i(l,g,n))){for(a=s;--a;){var v=u[a];if(!(v?In(v,g):i(t[a],g,n)))continue t}p&&p.push(g),l.push(d)}}return l}function oi(t,e,n){var i=null==(t=rs(t,e=Yi(e,t)))?t:t[fs(Cs(e))];return null==i?r:en(i,t,n)}function si(t){return Ia(t)&&ti(t)==F}function ai(t,e,n,i,o){return t===e||(null==t||null==e||!Ia(t)&&!Ia(e)?t!=t&&e!=e:function(t,e,n,i,o,s){var a=ya(t),u=ya(e),c=a?H:Wo(t),l=u?H:Wo(e),h=(c=c==F?X:c)==X,f=(l=l==F?X:l)==X,p=c==l;if(p&&ka(t)){if(!ka(e))return!1;a=!0,h=!1}if(p&&!h)return s||(s=new Er),a||Ma(t)?jo(t,e,n,i,o,s):function(t,e,n,r,i,o,s){switch(n){case ct:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case ut:return!(t.byteLength!=e.byteLength||!o(new we(t),new we(e)));case $:case W:case J:return ga(+t,+e);case q:return t.name==e.name&&t.message==e.message;case et:case rt:return t==e+"";case Z:var a=Bn;case nt:var u=r&d;if(a||(a=Fn),t.size!=e.size&&!u)return!1;var c=s.get(t);if(c)return c==e;r|=g,s.set(t,e);var l=jo(a(t),a(e),r,i,o,s);return s.delete(t),l;case it:if(pr)return pr.call(t)==pr.call(e)}return!1}(t,e,c,n,i,o,s);if(!(n&d)){var v=h&&he.call(t,"__wrapped__"),m=f&&he.call(e,"__wrapped__");if(v||m){var _=v?t.value():t,y=m?e.value():e;return s||(s=new Er),o(_,y,n,i,s)}}return!!p&&(s||(s=new Er),function(t,e,n,i,o,s){var a=n&d,u=zo(t),c=u.length,l=zo(e),h=l.length;if(c!=h&&!a)return!1;var f=c;for(;f--;){var p=u[f];if(!(a?p in e:he.call(e,p)))return!1}var g=s.get(t),v=s.get(e);if(g&&v)return g==e&&v==t;var m=!0;s.set(t,e),s.set(e,t);var _=a;for(;++f<c;){var y=t[p=u[f]],w=e[p];if(i)var b=a?i(w,y,p,e,t,s):i(y,w,p,t,e,s);if(!(b===r?y===w||o(y,w,n,i,s):b)){m=!1;break}_||(_="constructor"==p)}if(m&&!_){var x=t.constructor,k=e.constructor;x==k||!("constructor"in t)||!("constructor"in e)||"function"==typeof x&&x instanceof x&&"function"==typeof k&&k instanceof k||(m=!1)}return s.delete(t),s.delete(e),m}(t,e,n,i,o,s))}(t,e,n,i,ai,o))}function ui(t,e,n,i){var o=n.length,s=o,a=!i;if(null==t)return!s;for(t=ne(t);o--;){var u=n[o];if(a&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++o<s;){var c=(u=n[o])[0],l=t[c],h=u[1];if(a&&u[2]){if(l===r&&!(c in t))return!1}else{var f=new Er;if(i)var p=i(l,h,c,t,e,f);if(!(p===r?ai(h,l,d|g,i,f):p))return!1}}return!0}function ci(t){return!(!Sa(t)||(e=t,pe&&pe in e))&&(Ra(t)?me:qt).test(ps(t));var e}function li(t){return"function"==typeof t?t:null==t?Tu:"object"==typeof t?ya(t)?vi(t[0],t[1]):gi(t):Hu(t)}function hi(t){if(!Qo(t))return qn(t);var e=[];for(var n in ne(t))he.call(t,n)&&"constructor"!=n&&e.push(n);return e}function fi(t){if(!Sa(t))return function(t){var e=[];if(null!=t)for(var n in ne(t))e.push(n);return e}(t);var e=Qo(t),n=[];for(var r in t)("constructor"!=r||!e&&he.call(t,r))&&n.push(r);return n}function pi(t,e){return t<e}function di(t,e){var n=-1,r=ba(t)?Pt(t.length):[];return Hr(t,(function(t,i,o){r[++n]=e(t,i,o)})),r}function gi(t){var e=Fo(t);return 1==e.length&&e[0][2]?es(e[0][0],e[0][1]):function(n){return n===t||ui(n,t,e)}}function vi(t,e){return Jo(t)&&ts(e)?es(fs(t),e):function(n){var i=eu(n,t);return i===r&&i===e?nu(n,t):ai(e,i,d|g)}}function mi(t,e,n,i,o){t!==e&&Gr(e,(function(s,a){if(o||(o=new Er),Sa(s))!function(t,e,n,i,o,s,a){var u=is(t,n),c=is(e,n),l=a.get(c);if(l)return void Sr(t,n,l);var h=s?s(u,c,n+"",t,e,a):r,f=h===r;if(f){var p=ya(c),d=!p&&ka(c),g=!p&&!d&&Ma(c);h=c,p||d||g?ya(u)?h=u:xa(u)?h=io(u):d?(f=!1,h=Xi(c,!0)):g?(f=!1,h=to(c,!0)):h=[]:za(c)||_a(c)?(h=u,_a(u)?h=qa(u):Sa(u)&&!Ra(u)||(h=qo(c))):f=!1}f&&(a.set(c,h),o(h,c,i,s,a),a.delete(c));Sr(t,n,h)}(t,e,a,n,mi,i,o);else{var u=i?i(is(t,a),s,a+"",t,e,o):r;u===r&&(u=s),Sr(t,a,u)}}),au)}function _i(t,e){var n=t.length;if(n)return Yo(e+=e<0?n:0,n)?t[e]:r}function yi(t,e,n){e=e.length?ln(e,(function(t){return ya(t)?function(e){return Xr(e,1===t.length?t[0]:t)}:t})):[Tu];var r=-1;e=ln(e,Ln(Mo()));var i=di(t,(function(t,n,i){var o=ln(e,(function(e){return e(t)}));return{criteria:o,index:++r,value:t}}));return function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(i,(function(t,e){return function(t,e,n){var r=-1,i=t.criteria,o=e.criteria,s=i.length,a=n.length;for(;++r<s;){var u=eo(i[r],o[r]);if(u)return r>=a?u:u*("desc"==n[r]?-1:1)}return t.index-e.index}(t,e,n)}))}function wi(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var s=e[r],a=Xr(t,s);n(a,s)&&Li(o,Yi(s,t),a)}return o}function bi(t,e,n,r){var i=r?yn:_n,o=-1,s=e.length,a=t;for(t===e&&(e=io(e)),n&&(a=ln(t,Ln(n)));++o<s;)for(var u=0,c=e[o],l=n?n(c):c;(u=i(a,l,u,r))>-1;)a!==t&&Ce.call(a,u,1),Ce.call(t,u,1);return t}function xi(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==o){var o=i;Yo(i)?Ce.call(t,i,1):Fi(t,i)}}return t}function ki(t,e){return t+De(Kn()*(e-t+1))}function Ei(t,e){var n="";if(!t||e<1||e>z)return n;do{e%2&&(n+=t),(e=De(e/2))&&(t+=t)}while(e);return n}function Ci(t,e){return as(ns(t,e,Tu),t+"")}function Ri(t){return Rr(gu(t))}function Ai(t,e){var n=gu(t);return ls(n,Ur(e,0,n.length))}function Li(t,e,n,i){if(!Sa(t))return t;for(var o=-1,s=(e=Yi(e,t)).length,a=s-1,u=t;null!=u&&++o<s;){var c=fs(e[o]),l=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return t;if(o!=a){var h=u[c];(l=i?i(h,c,u):r)===r&&(l=Sa(h)?h:Yo(e[o+1])?[]:{})}Ir(u,c,l),u=u[c]}return t}var Si=or?function(t,e){return or.set(t,e),t}:Tu,Ii=Te?function(t,e){return Te(t,"toString",{configurable:!0,enumerable:!1,value:Su(e),writable:!0})}:Tu;function ji(t){return ls(gu(t))}function Ti(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(n=n>i?i:n)<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Pt(i);++r<i;)o[r]=t[r+e];return o}function zi(t,e){var n;return Hr(t,(function(t,r,i){return!(n=e(t,r,i))})),!!n}function Oi(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e==e&&i<=M){for(;r<i;){var o=r+i>>>1,s=t[o];null!==s&&!Ba(s)&&(n?s<=e:s<e)?r=o+1:i=o}return i}return Pi(t,e,Tu,n)}function Pi(t,e,n,i){var o=0,s=null==t?0:t.length;if(0===s)return 0;for(var a=(e=n(e))!=e,u=null===e,c=Ba(e),l=e===r;o<s;){var h=De((o+s)/2),f=n(t[h]),p=f!==r,d=null===f,g=f==f,v=Ba(f);if(a)var m=i||g;else m=l?g&&(i||p):u?g&&p&&(i||!d):c?g&&p&&!d&&(i||!v):!d&&!v&&(i?f<=e:f<e);m?o=h+1:s=h}return Yn(s,B)}function Ui(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var s=t[n],a=e?e(s):s;if(!n||!ga(a,u)){var u=a;o[i++]=0===s?0:s}}return o}function Bi(t){return"number"==typeof t?t:Ba(t)?P:+t}function Mi(t){if("string"==typeof t)return t;if(ya(t))return ln(t,Mi)+"";if(Ba(t))return dr?dr.call(t):"";var e=t+"";return"0"==e&&1/t==-T?"-0":e}function Ni(t,e,n){var r=-1,o=un,s=t.length,a=!0,u=[],c=u;if(n)a=!1,o=cn;else if(s>=i){var l=e?null:Co(t);if(l)return Fn(l);a=!1,o=In,c=new kr}else c=e?[]:u;t:for(;++r<s;){var h=t[r],f=e?e(h):h;if(h=n||0!==h?h:0,a&&f==f){for(var p=c.length;p--;)if(c[p]===f)continue t;e&&c.push(f),u.push(h)}else o(c,f,n)||(c!==u&&c.push(f),u.push(h))}return u}function Fi(t,e){return null==(t=rs(t,e=Yi(e,t)))||delete t[fs(Cs(e))]}function Hi(t,e,n,r){return Li(t,e,n(Xr(t,e)),r)}function Vi(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?Ti(t,r?0:o,r?o+1:i):Ti(t,r?o+1:0,r?i:o)}function $i(t,e){var n=t;return n instanceof yr&&(n=n.value()),fn(e,(function(t,e){return e.func.apply(e.thisArg,hn([t],e.args))}),n)}function Wi(t,e,n){var r=t.length;if(r<2)return r?Ni(t[0]):[];for(var i=-1,o=Pt(r);++i<r;)for(var s=t[i],a=-1;++a<r;)a!=i&&(o[i]=Fr(o[i]||s,t[a],e,n));return Ni(qr(o,1),e,n)}function Di(t,e,n){for(var i=-1,o=t.length,s=e.length,a={};++i<o;){var u=i<s?e[i]:r;n(a,t[i],u)}return a}function qi(t){return xa(t)?t:[]}function Gi(t){return"function"==typeof t?t:Tu}function Yi(t,e){return ya(t)?t:Jo(t,e)?[t]:hs(Ga(t))}var Zi=Ci;function Ji(t,e,n){var i=t.length;return n=n===r?i:n,!e&&n>=i?t:Ti(t,e,n)}var Ki=Me||function(t){return $e.clearTimeout(t)};function Xi(t,e){if(e)return t.slice();var n=t.length,r=be?be(n):new t.constructor(n);return t.copy(r),r}function Qi(t){var e=new t.constructor(t.byteLength);return new we(e).set(new we(t)),e}function to(t,e){var n=e?Qi(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function eo(t,e){if(t!==e){var n=t!==r,i=null===t,o=t==t,s=Ba(t),a=e!==r,u=null===e,c=e==e,l=Ba(e);if(!u&&!l&&!s&&t>e||s&&a&&c&&!u&&!l||i&&a&&c||!n&&c||!o)return 1;if(!i&&!s&&!l&&t<e||l&&n&&o&&!i&&!s||u&&n&&o||!a&&o||!c)return-1}return 0}function no(t,e,n,r){for(var i=-1,o=t.length,s=n.length,a=-1,u=e.length,c=Gn(o-s,0),l=Pt(u+c),h=!r;++a<u;)l[a]=e[a];for(;++i<s;)(h||i<o)&&(l[n[i]]=t[i]);for(;c--;)l[a++]=t[i++];return l}function ro(t,e,n,r){for(var i=-1,o=t.length,s=-1,a=n.length,u=-1,c=e.length,l=Gn(o-a,0),h=Pt(l+c),f=!r;++i<l;)h[i]=t[i];for(var p=i;++u<c;)h[p+u]=e[u];for(;++s<a;)(f||i<o)&&(h[p+n[s]]=t[i++]);return h}function io(t,e){var n=-1,r=t.length;for(e||(e=Pt(r));++n<r;)e[n]=t[n];return e}function oo(t,e,n,i){var o=!n;n||(n={});for(var s=-1,a=e.length;++s<a;){var u=e[s],c=i?i(n[u],t[u],u,n,t):r;c===r&&(c=t[u]),o?Or(n,u,c):Ir(n,u,c)}return n}function so(t,e){return function(n,r){var i=ya(n)?nn:Tr,o=e?e():{};return i(n,t,Mo(r,2),o)}}function ao(t){return Ci((function(e,n){var i=-1,o=n.length,s=o>1?n[o-1]:r,a=o>2?n[2]:r;for(s=t.length>3&&"function"==typeof s?(o--,s):r,a&&Zo(n[0],n[1],a)&&(s=o<3?r:s,o=1),e=ne(e);++i<o;){var u=n[i];u&&t(e,u,i,s)}return e}))}function uo(t,e){return function(n,r){if(null==n)return n;if(!ba(n))return t(n,r);for(var i=n.length,o=e?i:-1,s=ne(n);(e?o--:++o<i)&&!1!==r(s[o],o,s););return n}}function co(t){return function(e,n,r){for(var i=-1,o=ne(e),s=r(e),a=s.length;a--;){var u=s[t?a:++i];if(!1===n(o[u],u,o))break}return e}}function lo(t){return function(e){var n=Un(e=Ga(e))?Vn(e):r,i=n?n[0]:e.charAt(0),o=n?Ji(n,1).join(""):e.slice(1);return i[t]()+o}}function ho(t){return function(e){return fn(Ru(_u(e).replace(Le,"")),t,"")}}function fo(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=vr(t.prototype),r=t.apply(n,e);return Sa(r)?r:n}}function po(t){return function(e,n,i){var o=ne(e);if(!ba(e)){var s=Mo(n,3);e=su(e),n=function(t){return s(o[t],t,o)}}var a=t(e,n,i);return a>-1?o[s?e[a]:a]:r}}function go(t){return To((function(e){var n=e.length,i=n,o=_r.prototype.thru;for(t&&e.reverse();i--;){var a=e[i];if("function"!=typeof a)throw new oe(s);if(o&&!u&&"wrapper"==Uo(a))var u=new _r([],!0)}for(i=u?i:n;++i<n;){var c=Uo(a=e[i]),l="wrapper"==c?Po(a):r;u=l&&Ko(l[0])&&l[1]==(k|y|b|E)&&!l[4].length&&1==l[9]?u[Uo(l[0])].apply(u,l[3]):1==a.length&&Ko(a)?u[c]():u.thru(a)}return function(){var t=arguments,r=t[0];if(u&&1==t.length&&ya(r))return u.plant(r).value();for(var i=0,o=n?e[i].apply(this,t):r;++i<n;)o=e[i].call(this,o);return o}}))}function vo(t,e,n,i,o,s,a,u,c,l){var h=e&k,f=e&v,p=e&m,d=e&(y|w),g=e&C,_=p?r:fo(t);return function v(){for(var m=arguments.length,y=Pt(m),w=m;w--;)y[w]=arguments[w];if(d)var b=Bo(v),x=function(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}(y,b);if(i&&(y=no(y,i,o,d)),s&&(y=ro(y,s,a,d)),m-=x,d&&m<l){var k=Nn(y,b);return ko(t,e,vo,v.placeholder,n,y,k,u,c,l-m)}var E=f?n:this,C=p?E[t]:t;return m=y.length,u?y=function(t,e){var n=t.length,i=Yn(e.length,n),o=io(t);for(;i--;){var s=e[i];t[i]=Yo(s,n)?o[s]:r}return t}(y,u):g&&m>1&&y.reverse(),h&&c<m&&(y.length=c),this&&this!==$e&&this instanceof v&&(C=_||fo(C)),C.apply(E,y)}}function mo(t,e){return function(n,r){return function(t,e,n,r){return Zr(t,(function(t,i,o){e(r,n(t),i,o)})),r}(n,t,e(r),{})}}function _o(t,e){return function(n,i){var o;if(n===r&&i===r)return e;if(n!==r&&(o=n),i!==r){if(o===r)return i;"string"==typeof n||"string"==typeof i?(n=Mi(n),i=Mi(i)):(n=Bi(n),i=Bi(i)),o=t(n,i)}return o}}function yo(t){return To((function(e){return e=ln(e,Ln(Mo())),Ci((function(n){var r=this;return t(e,(function(t){return en(t,r,n)}))}))}))}function wo(t,e){var n=(e=e===r?" ":Mi(e)).length;if(n<2)return n?Ei(e,t):e;var i=Ei(e,We(t/Hn(e)));return Un(e)?Ji(Vn(i),0,t).join(""):i.slice(0,t)}function bo(t){return function(e,n,i){return i&&"number"!=typeof i&&Zo(e,n,i)&&(n=i=r),e=Va(e),n===r?(n=e,e=0):n=Va(n),function(t,e,n,r){for(var i=-1,o=Gn(We((e-t)/(n||1)),0),s=Pt(o);o--;)s[r?o:++i]=t,t+=n;return s}(e,n,i=i===r?e<n?1:-1:Va(i),t)}}function xo(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=Da(e),n=Da(n)),t(e,n)}}function ko(t,e,n,i,o,s,a,u,c,l){var h=e&y;e|=h?b:x,(e&=~(h?x:b))&_||(e&=~(v|m));var f=[t,e,o,h?s:r,h?a:r,h?r:s,h?r:a,u,c,l],p=n.apply(r,f);return Ko(t)&&os(p,f),p.placeholder=i,us(p,t,e)}function Eo(t){var e=ee[t];return function(t,n){if(t=Da(t),(n=null==n?0:Yn($a(n),292))&&gn(t)){var r=(Ga(t)+"e").split("e");return+((r=(Ga(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}var Co=nr&&1/Fn(new nr([,-0]))[1]==T?function(t){return new nr(t)}:Bu;function Ro(t){return function(e){var n=Wo(e);return n==Z?Bn(e):n==nt?function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n}(e):function(t,e){return ln(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function Ao(t,e,n,i,o,a,u,c){var h=e&m;if(!h&&"function"!=typeof t)throw new oe(s);var f=i?i.length:0;if(f||(e&=~(b|x),i=o=r),u=u===r?u:Gn($a(u),0),c=c===r?c:$a(c),f-=o?o.length:0,e&x){var p=i,d=o;i=o=r}var g=h?r:Po(t),C=[t,e,n,i,o,p,d,a,u,c];if(g&&function(t,e){var n=t[1],r=e[1],i=n|r,o=i<(v|m|k),s=r==k&&n==y||r==k&&n==E&&t[7].length<=e[8]||r==(k|E)&&e[7].length<=e[8]&&n==y;if(!o&&!s)return t;r&v&&(t[2]=e[2],i|=n&v?0:_);var a=e[3];if(a){var u=t[3];t[3]=u?no(u,a,e[4]):a,t[4]=u?Nn(t[3],l):e[4]}(a=e[5])&&(u=t[5],t[5]=u?ro(u,a,e[6]):a,t[6]=u?Nn(t[5],l):e[6]);(a=e[7])&&(t[7]=a);r&k&&(t[8]=null==t[8]?e[8]:Yn(t[8],e[8]));null==t[9]&&(t[9]=e[9]);t[0]=e[0],t[1]=i}(C,g),t=C[0],e=C[1],n=C[2],i=C[3],o=C[4],!(c=C[9]=C[9]===r?h?0:t.length:Gn(C[9]-f,0))&&e&(y|w)&&(e&=~(y|w)),e&&e!=v)R=e==y||e==w?function(t,e,n){var i=fo(t);return function o(){for(var s=arguments.length,a=Pt(s),u=s,c=Bo(o);u--;)a[u]=arguments[u];var l=s<3&&a[0]!==c&&a[s-1]!==c?[]:Nn(a,c);return(s-=l.length)<n?ko(t,e,vo,o.placeholder,r,a,l,r,r,n-s):en(this&&this!==$e&&this instanceof o?i:t,this,a)}}(t,e,c):e!=b&&e!=(v|b)||o.length?vo.apply(r,C):function(t,e,n,r){var i=e&v,o=fo(t);return function e(){for(var s=-1,a=arguments.length,u=-1,c=r.length,l=Pt(c+a),h=this&&this!==$e&&this instanceof e?o:t;++u<c;)l[u]=r[u];for(;a--;)l[u++]=arguments[++s];return en(h,i?n:this,l)}}(t,e,n,i);else var R=function(t,e,n){var r=e&v,i=fo(t);return function e(){return(this&&this!==$e&&this instanceof e?i:t).apply(r?n:this,arguments)}}(t,e,n);return us((g?Si:os)(R,C),t,e)}function Lo(t,e,n,i){return t===r||ga(t,ue[n])&&!he.call(i,n)?e:t}function So(t,e,n,i,o,s){return Sa(t)&&Sa(e)&&(s.set(e,t),mi(t,e,r,So,s),s.delete(e)),t}function Io(t){return za(t)?r:t}function jo(t,e,n,i,o,s){var a=n&d,u=t.length,c=e.length;if(u!=c&&!(a&&c>u))return!1;var l=s.get(t),h=s.get(e);if(l&&h)return l==e&&h==t;var f=-1,p=!0,v=n&g?new kr:r;for(s.set(t,e),s.set(e,t);++f<u;){var m=t[f],_=e[f];if(i)var y=a?i(_,m,f,e,t,s):i(m,_,f,t,e,s);if(y!==r){if(y)continue;p=!1;break}if(v){if(!dn(e,(function(t,e){if(!In(v,e)&&(m===t||o(m,t,n,i,s)))return v.push(e)}))){p=!1;break}}else if(m!==_&&!o(m,_,n,i,s)){p=!1;break}}return s.delete(t),s.delete(e),p}function To(t){return as(ns(t,r,ws),t+"")}function zo(t){return Qr(t,su,Vo)}function Oo(t){return Qr(t,au,$o)}var Po=or?function(t){return or.get(t)}:Bu;function Uo(t){for(var e=t.name+"",n=sr[e],r=he.call(sr,e)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function Bo(t){return(he.call(gr,"placeholder")?gr:t).placeholder}function Mo(){var t=gr.iteratee||zu;return t=t===zu?li:t,arguments.length?t(arguments[0],arguments[1]):t}function No(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function Fo(t){for(var e=su(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,ts(i)]}return e}function Ho(t,e){var n=function(t,e){return null==t?r:t[e]}(t,e);return ci(n)?n:r}var Vo=Ge?function(t){return null==t?[]:(t=ne(t),an(Ge(t),(function(e){return Ee.call(t,e)})))}:Wu,$o=Ge?function(t){for(var e=[];t;)hn(e,Vo(t)),t=xe(t);return e}:Wu,Wo=ti;function Do(t,e,n){for(var r=-1,i=(e=Yi(e,t)).length,o=!1;++r<i;){var s=fs(e[r]);if(!(o=null!=t&&n(t,s)))break;t=t[s]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&La(i)&&Yo(s,i)&&(ya(t)||_a(t))}function qo(t){return"function"!=typeof t.constructor||Qo(t)?{}:vr(xe(t))}function Go(t){return ya(t)||_a(t)||!!(Re&&t&&t[Re])}function Yo(t,e){var n=typeof t;return!!(e=null==e?z:e)&&("number"==n||"symbol"!=n&&Yt.test(t))&&t>-1&&t%1==0&&t<e}function Zo(t,e,n){if(!Sa(n))return!1;var r=typeof e;return!!("number"==r?ba(n)&&Yo(e,n.length):"string"==r&&e in n)&&ga(n[e],t)}function Jo(t,e){if(ya(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Ba(t))||(It.test(t)||!St.test(t)||null!=e&&t in ne(e))}function Ko(t){var e=Uo(t),n=gr[e];if("function"!=typeof n||!(e in yr.prototype))return!1;if(t===n)return!0;var r=Po(n);return!!r&&t===r[0]}(Qn&&Wo(new Qn(new ArrayBuffer(1)))!=ct||tr&&Wo(new tr)!=Z||er&&Wo(er.resolve())!=Q||nr&&Wo(new nr)!=nt||rr&&Wo(new rr)!=st)&&(Wo=function(t){var e=ti(t),n=e==X?t.constructor:r,i=n?ps(n):"";if(i)switch(i){case ar:return ct;case ur:return Z;case cr:return Q;case lr:return nt;case hr:return st}return e});var Xo=ce?Ra:Du;function Qo(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||ue)}function ts(t){return t==t&&!Sa(t)}function es(t,e){return function(n){return null!=n&&(n[t]===e&&(e!==r||t in ne(n)))}}function ns(t,e,n){return e=Gn(e===r?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=Gn(r.length-e,0),s=Pt(o);++i<o;)s[i]=r[e+i];i=-1;for(var a=Pt(e+1);++i<e;)a[i]=r[i];return a[e]=n(s),en(t,this,a)}}function rs(t,e){return e.length<2?t:Xr(t,Ti(e,0,-1))}function is(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var os=cs(Si),ss=Ve||function(t,e){return $e.setTimeout(t,e)},as=cs(Ii);function us(t,e,n){var r=e+"";return as(t,function(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(Ut,"{\n/* [wrapped with "+e+"] */\n")}(r,function(t,e){return rn(N,(function(n){var r="_."+n[0];e&n[1]&&!un(t,r)&&t.push(r)})),t.sort()}(function(t){var e=t.match(Bt);return e?e[1].split(Mt):[]}(r),n)))}function cs(t){var e=0,n=0;return function(){var i=Zn(),o=S-(i-n);if(n=i,o>0){if(++e>=L)return arguments[0]}else e=0;return t.apply(r,arguments)}}function ls(t,e){var n=-1,i=t.length,o=i-1;for(e=e===r?i:e;++n<e;){var s=ki(n,o),a=t[s];t[s]=t[n],t[n]=a}return t.length=e,t}var hs=function(t){var e=ca(t,(function(t){return n.size===c&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(jt,(function(t,n,r,i){e.push(r?i.replace(Ht,"$1"):n||t)})),e}));function fs(t){if("string"==typeof t||Ba(t))return t;var e=t+"";return"0"==e&&1/t==-T?"-0":e}function ps(t){if(null!=t){try{return le.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function ds(t){if(t instanceof yr)return t.clone();var e=new _r(t.__wrapped__,t.__chain__);return e.__actions__=io(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var gs=Ci((function(t,e){return xa(t)?Fr(t,qr(e,1,xa,!0)):[]})),vs=Ci((function(t,e){var n=Cs(e);return xa(n)&&(n=r),xa(t)?Fr(t,qr(e,1,xa,!0),Mo(n,2)):[]})),ms=Ci((function(t,e){var n=Cs(e);return xa(n)&&(n=r),xa(t)?Fr(t,qr(e,1,xa,!0),r,n):[]}));function _s(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:$a(n);return i<0&&(i=Gn(r+i,0)),mn(t,Mo(e,3),i)}function ys(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var o=i-1;return n!==r&&(o=$a(n),o=n<0?Gn(i+o,0):Yn(o,i-1)),mn(t,Mo(e,3),o,!0)}function ws(t){return(null==t?0:t.length)?qr(t,1):[]}function bs(t){return t&&t.length?t[0]:r}var xs=Ci((function(t){var e=ln(t,qi);return e.length&&e[0]===t[0]?ii(e):[]})),ks=Ci((function(t){var e=Cs(t),n=ln(t,qi);return e===Cs(n)?e=r:n.pop(),n.length&&n[0]===t[0]?ii(n,Mo(e,2)):[]})),Es=Ci((function(t){var e=Cs(t),n=ln(t,qi);return(e="function"==typeof e?e:r)&&n.pop(),n.length&&n[0]===t[0]?ii(n,r,e):[]}));function Cs(t){var e=null==t?0:t.length;return e?t[e-1]:r}var Rs=Ci(As);function As(t,e){return t&&t.length&&e&&e.length?bi(t,e):t}var Ls=To((function(t,e){var n=null==t?0:t.length,r=Pr(t,e);return xi(t,ln(e,(function(t){return Yo(t,n)?+t:t})).sort(eo)),r}));function Ss(t){return null==t?t:Xn.call(t)}var Is=Ci((function(t){return Ni(qr(t,1,xa,!0))})),js=Ci((function(t){var e=Cs(t);return xa(e)&&(e=r),Ni(qr(t,1,xa,!0),Mo(e,2))})),Ts=Ci((function(t){var e=Cs(t);return e="function"==typeof e?e:r,Ni(qr(t,1,xa,!0),r,e)}));function zs(t){if(!t||!t.length)return[];var e=0;return t=an(t,(function(t){if(xa(t))return e=Gn(t.length,e),!0})),Rn(e,(function(e){return ln(t,xn(e))}))}function Os(t,e){if(!t||!t.length)return[];var n=zs(t);return null==e?n:ln(n,(function(t){return en(e,r,t)}))}var Ps=Ci((function(t,e){return xa(t)?Fr(t,e):[]})),Us=Ci((function(t){return Wi(an(t,xa))})),Bs=Ci((function(t){var e=Cs(t);return xa(e)&&(e=r),Wi(an(t,xa),Mo(e,2))})),Ms=Ci((function(t){var e=Cs(t);return e="function"==typeof e?e:r,Wi(an(t,xa),r,e)})),Ns=Ci(zs);var Fs=Ci((function(t){var e=t.length,n=e>1?t[e-1]:r;return n="function"==typeof n?(t.pop(),n):r,Os(t,n)}));function Hs(t){var e=gr(t);return e.__chain__=!0,e}function Vs(t,e){return e(t)}var $s=To((function(t){var e=t.length,n=e?t[0]:0,i=this.__wrapped__,o=function(e){return Pr(e,t)};return!(e>1||this.__actions__.length)&&i instanceof yr&&Yo(n)?((i=i.slice(n,+n+(e?1:0))).__actions__.push({func:Vs,args:[o],thisArg:r}),new _r(i,this.__chain__).thru((function(t){return e&&!t.length&&t.push(r),t}))):this.thru(o)}));var Ws=so((function(t,e,n){he.call(t,n)?++t[n]:Or(t,n,1)}));var Ds=po(_s),qs=po(ys);function Gs(t,e){return(ya(t)?rn:Hr)(t,Mo(e,3))}function Ys(t,e){return(ya(t)?on:Vr)(t,Mo(e,3))}var Zs=so((function(t,e,n){he.call(t,n)?t[n].push(e):Or(t,n,[e])}));var Js=Ci((function(t,e,n){var r=-1,i="function"==typeof e,o=ba(t)?Pt(t.length):[];return Hr(t,(function(t){o[++r]=i?en(e,t,n):oi(t,e,n)})),o})),Ks=so((function(t,e,n){Or(t,n,e)}));function Xs(t,e){return(ya(t)?ln:di)(t,Mo(e,3))}var Qs=so((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]}));var ta=Ci((function(t,e){if(null==t)return[];var n=e.length;return n>1&&Zo(t,e[0],e[1])?e=[]:n>2&&Zo(e[0],e[1],e[2])&&(e=[e[0]]),yi(t,qr(e,1),[])})),ea=He||function(){return $e.Date.now()};function na(t,e,n){return e=n?r:e,e=t&&null==e?t.length:e,Ao(t,k,r,r,r,r,e)}function ra(t,e){var n;if("function"!=typeof e)throw new oe(s);return t=$a(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=r),n}}var ia=Ci((function(t,e,n){var r=v;if(n.length){var i=Nn(n,Bo(ia));r|=b}return Ao(t,r,e,n,i)})),oa=Ci((function(t,e,n){var r=v|m;if(n.length){var i=Nn(n,Bo(oa));r|=b}return Ao(e,r,t,n,i)}));function sa(t,e,n){var i,o,a,u,c,l,h=0,f=!1,p=!1,d=!0;if("function"!=typeof t)throw new oe(s);function g(e){var n=i,s=o;return i=o=r,h=e,u=t.apply(s,n)}function v(t){var n=t-l;return l===r||n>=e||n<0||p&&t-h>=a}function m(){var t=ea();if(v(t))return _(t);c=ss(m,function(t){var n=e-(t-l);return p?Yn(n,a-(t-h)):n}(t))}function _(t){return c=r,d&&i?g(t):(i=o=r,u)}function y(){var t=ea(),n=v(t);if(i=arguments,o=this,l=t,n){if(c===r)return function(t){return h=t,c=ss(m,e),f?g(t):u}(l);if(p)return Ki(c),c=ss(m,e),g(l)}return c===r&&(c=ss(m,e)),u}return e=Da(e)||0,Sa(n)&&(f=!!n.leading,a=(p="maxWait"in n)?Gn(Da(n.maxWait)||0,e):a,d="trailing"in n?!!n.trailing:d),y.cancel=function(){c!==r&&Ki(c),h=0,i=l=o=c=r},y.flush=function(){return c===r?u:_(ea())},y}var aa=Ci((function(t,e){return Nr(t,1,e)})),ua=Ci((function(t,e,n){return Nr(t,Da(e)||0,n)}));function ca(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new oe(s);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(ca.Cache||xr),n}function la(t){if("function"!=typeof t)throw new oe(s);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}ca.Cache=xr;var ha=Zi((function(t,e){var n=(e=1==e.length&&ya(e[0])?ln(e[0],Ln(Mo())):ln(qr(e,1),Ln(Mo()))).length;return Ci((function(r){for(var i=-1,o=Yn(r.length,n);++i<o;)r[i]=e[i].call(this,r[i]);return en(t,this,r)}))})),fa=Ci((function(t,e){var n=Nn(e,Bo(fa));return Ao(t,b,r,e,n)})),pa=Ci((function(t,e){var n=Nn(e,Bo(pa));return Ao(t,x,r,e,n)})),da=To((function(t,e){return Ao(t,E,r,r,r,e)}));function ga(t,e){return t===e||t!=t&&e!=e}var va=xo(ei),ma=xo((function(t,e){return t>=e})),_a=si(function(){return arguments}())?si:function(t){return Ia(t)&&he.call(t,"callee")&&!Ee.call(t,"callee")},ya=Pt.isArray,wa=Ze?Ln(Ze):function(t){return Ia(t)&&ti(t)==ut};function ba(t){return null!=t&&La(t.length)&&!Ra(t)}function xa(t){return Ia(t)&&ba(t)}var ka=Ye||Du,Ea=Je?Ln(Je):function(t){return Ia(t)&&ti(t)==W};function Ca(t){if(!Ia(t))return!1;var e=ti(t);return e==q||e==D||"string"==typeof t.message&&"string"==typeof t.name&&!za(t)}function Ra(t){if(!Sa(t))return!1;var e=ti(t);return e==G||e==Y||e==V||e==tt}function Aa(t){return"number"==typeof t&&t==$a(t)}function La(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=z}function Sa(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Ia(t){return null!=t&&"object"==typeof t}var ja=Ke?Ln(Ke):function(t){return Ia(t)&&Wo(t)==Z};function Ta(t){return"number"==typeof t||Ia(t)&&ti(t)==J}function za(t){if(!Ia(t)||ti(t)!=X)return!1;var e=xe(t);if(null===e)return!0;var n=he.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&le.call(n)==ge}var Oa=Xe?Ln(Xe):function(t){return Ia(t)&&ti(t)==et};var Pa=Qe?Ln(Qe):function(t){return Ia(t)&&Wo(t)==nt};function Ua(t){return"string"==typeof t||!ya(t)&&Ia(t)&&ti(t)==rt}function Ba(t){return"symbol"==typeof t||Ia(t)&&ti(t)==it}var Ma=tn?Ln(tn):function(t){return Ia(t)&&La(t.length)&&!!Ue[ti(t)]};var Na=xo(pi),Fa=xo((function(t,e){return t<=e}));function Ha(t){if(!t)return[];if(ba(t))return Ua(t)?Vn(t):io(t);if(Ae&&t[Ae])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[Ae]());var e=Wo(t);return(e==Z?Bn:e==nt?Fn:gu)(t)}function Va(t){return t?(t=Da(t))===T||t===-T?(t<0?-1:1)*O:t==t?t:0:0===t?t:0}function $a(t){var e=Va(t),n=e%1;return e==e?n?e-n:e:0}function Wa(t){return t?Ur($a(t),0,U):0}function Da(t){if("number"==typeof t)return t;if(Ba(t))return P;if(Sa(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Sa(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=An(t);var n=Dt.test(t);return n||Gt.test(t)?Fe(t.slice(2),n?2:8):Wt.test(t)?P:+t}function qa(t){return oo(t,au(t))}function Ga(t){return null==t?"":Mi(t)}var Ya=ao((function(t,e){if(Qo(e)||ba(e))oo(e,su(e),t);else for(var n in e)he.call(e,n)&&Ir(t,n,e[n])})),Za=ao((function(t,e){oo(e,au(e),t)})),Ja=ao((function(t,e,n,r){oo(e,au(e),t,r)})),Ka=ao((function(t,e,n,r){oo(e,su(e),t,r)})),Xa=To(Pr);var Qa=Ci((function(t,e){t=ne(t);var n=-1,i=e.length,o=i>2?e[2]:r;for(o&&Zo(e[0],e[1],o)&&(i=1);++n<i;)for(var s=e[n],a=au(s),u=-1,c=a.length;++u<c;){var l=a[u],h=t[l];(h===r||ga(h,ue[l])&&!he.call(t,l))&&(t[l]=s[l])}return t})),tu=Ci((function(t){return t.push(r,So),en(cu,r,t)}));function eu(t,e,n){var i=null==t?r:Xr(t,e);return i===r?n:i}function nu(t,e){return null!=t&&Do(t,e,ri)}var ru=mo((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=de.call(e)),t[e]=n}),Su(Tu)),iu=mo((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=de.call(e)),he.call(t,e)?t[e].push(n):t[e]=[n]}),Mo),ou=Ci(oi);function su(t){return ba(t)?Cr(t):hi(t)}function au(t){return ba(t)?Cr(t,!0):fi(t)}var uu=ao((function(t,e,n){mi(t,e,n)})),cu=ao((function(t,e,n,r){mi(t,e,n,r)})),lu=To((function(t,e){var n={};if(null==t)return n;var r=!1;e=ln(e,(function(e){return e=Yi(e,t),r||(r=e.length>1),e})),oo(t,Oo(t),n),r&&(n=Br(n,h|f|p,Io));for(var i=e.length;i--;)Fi(n,e[i]);return n}));var hu=To((function(t,e){return null==t?{}:function(t,e){return wi(t,e,(function(e,n){return nu(t,n)}))}(t,e)}));function fu(t,e){if(null==t)return{};var n=ln(Oo(t),(function(t){return[t]}));return e=Mo(e),wi(t,n,(function(t,n){return e(t,n[0])}))}var pu=Ro(su),du=Ro(au);function gu(t){return null==t?[]:Sn(t,su(t))}var vu=ho((function(t,e,n){return e=e.toLowerCase(),t+(n?mu(e):e)}));function mu(t){return Cu(Ga(t).toLowerCase())}function _u(t){return(t=Ga(t))&&t.replace(Zt,zn).replace(Se,"")}var yu=ho((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),wu=ho((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),bu=lo("toLowerCase");var xu=ho((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}));var ku=ho((function(t,e,n){return t+(n?" ":"")+Cu(e)}));var Eu=ho((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),Cu=lo("toUpperCase");function Ru(t,e,n){return t=Ga(t),(e=n?r:e)===r?function(t){return ze.test(t)}(t)?function(t){return t.match(je)||[]}(t):function(t){return t.match(Nt)||[]}(t):t.match(e)||[]}var Au=Ci((function(t,e){try{return en(t,r,e)}catch(t){return Ca(t)?t:new Qt(t)}})),Lu=To((function(t,e){return rn(e,(function(e){e=fs(e),Or(t,e,ia(t[e],t))})),t}));function Su(t){return function(){return t}}var Iu=go(),ju=go(!0);function Tu(t){return t}function zu(t){return li("function"==typeof t?t:Br(t,h))}var Ou=Ci((function(t,e){return function(n){return oi(n,t,e)}})),Pu=Ci((function(t,e){return function(n){return oi(t,n,e)}}));function Uu(t,e,n){var r=su(e),i=Kr(e,r);null!=n||Sa(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=Kr(e,su(e)));var o=!(Sa(n)&&"chain"in n&&!n.chain),s=Ra(t);return rn(i,(function(n){var r=e[n];t[n]=r,s&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__);return(n.__actions__=io(this.__actions__)).push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,hn([this.value()],arguments))})})),t}function Bu(){}var Mu=yo(ln),Nu=yo(sn),Fu=yo(dn);function Hu(t){return Jo(t)?xn(fs(t)):function(t){return function(e){return Xr(e,t)}}(t)}var Vu=bo(),$u=bo(!0);function Wu(){return[]}function Du(){return!1}var qu=_o((function(t,e){return t+e}),0),Gu=Eo("ceil"),Yu=_o((function(t,e){return t/e}),1),Zu=Eo("floor");var Ju,Ku=_o((function(t,e){return t*e}),1),Xu=Eo("round"),Qu=_o((function(t,e){return t-e}),0);return gr.after=function(t,e){if("function"!=typeof e)throw new oe(s);return t=$a(t),function(){if(--t<1)return e.apply(this,arguments)}},gr.ary=na,gr.assign=Ya,gr.assignIn=Za,gr.assignInWith=Ja,gr.assignWith=Ka,gr.at=Xa,gr.before=ra,gr.bind=ia,gr.bindAll=Lu,gr.bindKey=oa,gr.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return ya(t)?t:[t]},gr.chain=Hs,gr.chunk=function(t,e,n){e=(n?Zo(t,e,n):e===r)?1:Gn($a(e),0);var i=null==t?0:t.length;if(!i||e<1)return[];for(var o=0,s=0,a=Pt(We(i/e));o<i;)a[s++]=Ti(t,o,o+=e);return a},gr.compact=function(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i},gr.concat=function(){var t=arguments.length;if(!t)return[];for(var e=Pt(t-1),n=arguments[0],r=t;r--;)e[r-1]=arguments[r];return hn(ya(n)?io(n):[n],qr(e,1))},gr.cond=function(t){var e=null==t?0:t.length,n=Mo();return t=e?ln(t,(function(t){if("function"!=typeof t[1])throw new oe(s);return[n(t[0]),t[1]]})):[],Ci((function(n){for(var r=-1;++r<e;){var i=t[r];if(en(i[0],this,n))return en(i[1],this,n)}}))},gr.conforms=function(t){return function(t){var e=su(t);return function(n){return Mr(n,t,e)}}(Br(t,h))},gr.constant=Su,gr.countBy=Ws,gr.create=function(t,e){var n=vr(t);return null==e?n:zr(n,e)},gr.curry=function t(e,n,i){var o=Ao(e,y,r,r,r,r,r,n=i?r:n);return o.placeholder=t.placeholder,o},gr.curryRight=function t(e,n,i){var o=Ao(e,w,r,r,r,r,r,n=i?r:n);return o.placeholder=t.placeholder,o},gr.debounce=sa,gr.defaults=Qa,gr.defaultsDeep=tu,gr.defer=aa,gr.delay=ua,gr.difference=gs,gr.differenceBy=vs,gr.differenceWith=ms,gr.drop=function(t,e,n){var i=null==t?0:t.length;return i?Ti(t,(e=n||e===r?1:$a(e))<0?0:e,i):[]},gr.dropRight=function(t,e,n){var i=null==t?0:t.length;return i?Ti(t,0,(e=i-(e=n||e===r?1:$a(e)))<0?0:e):[]},gr.dropRightWhile=function(t,e){return t&&t.length?Vi(t,Mo(e,3),!0,!0):[]},gr.dropWhile=function(t,e){return t&&t.length?Vi(t,Mo(e,3),!0):[]},gr.fill=function(t,e,n,i){var o=null==t?0:t.length;return o?(n&&"number"!=typeof n&&Zo(t,e,n)&&(n=0,i=o),function(t,e,n,i){var o=t.length;for((n=$a(n))<0&&(n=-n>o?0:o+n),(i=i===r||i>o?o:$a(i))<0&&(i+=o),i=n>i?0:Wa(i);n<i;)t[n++]=e;return t}(t,e,n,i)):[]},gr.filter=function(t,e){return(ya(t)?an:Dr)(t,Mo(e,3))},gr.flatMap=function(t,e){return qr(Xs(t,e),1)},gr.flatMapDeep=function(t,e){return qr(Xs(t,e),T)},gr.flatMapDepth=function(t,e,n){return n=n===r?1:$a(n),qr(Xs(t,e),n)},gr.flatten=ws,gr.flattenDeep=function(t){return(null==t?0:t.length)?qr(t,T):[]},gr.flattenDepth=function(t,e){return(null==t?0:t.length)?qr(t,e=e===r?1:$a(e)):[]},gr.flip=function(t){return Ao(t,C)},gr.flow=Iu,gr.flowRight=ju,gr.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r},gr.functions=function(t){return null==t?[]:Kr(t,su(t))},gr.functionsIn=function(t){return null==t?[]:Kr(t,au(t))},gr.groupBy=Zs,gr.initial=function(t){return(null==t?0:t.length)?Ti(t,0,-1):[]},gr.intersection=xs,gr.intersectionBy=ks,gr.intersectionWith=Es,gr.invert=ru,gr.invertBy=iu,gr.invokeMap=Js,gr.iteratee=zu,gr.keyBy=Ks,gr.keys=su,gr.keysIn=au,gr.map=Xs,gr.mapKeys=function(t,e){var n={};return e=Mo(e,3),Zr(t,(function(t,r,i){Or(n,e(t,r,i),t)})),n},gr.mapValues=function(t,e){var n={};return e=Mo(e,3),Zr(t,(function(t,r,i){Or(n,r,e(t,r,i))})),n},gr.matches=function(t){return gi(Br(t,h))},gr.matchesProperty=function(t,e){return vi(t,Br(e,h))},gr.memoize=ca,gr.merge=uu,gr.mergeWith=cu,gr.method=Ou,gr.methodOf=Pu,gr.mixin=Uu,gr.negate=la,gr.nthArg=function(t){return t=$a(t),Ci((function(e){return _i(e,t)}))},gr.omit=lu,gr.omitBy=function(t,e){return fu(t,la(Mo(e)))},gr.once=function(t){return ra(2,t)},gr.orderBy=function(t,e,n,i){return null==t?[]:(ya(e)||(e=null==e?[]:[e]),ya(n=i?r:n)||(n=null==n?[]:[n]),yi(t,e,n))},gr.over=Mu,gr.overArgs=ha,gr.overEvery=Nu,gr.overSome=Fu,gr.partial=fa,gr.partialRight=pa,gr.partition=Qs,gr.pick=hu,gr.pickBy=fu,gr.property=Hu,gr.propertyOf=function(t){return function(e){return null==t?r:Xr(t,e)}},gr.pull=Rs,gr.pullAll=As,gr.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?bi(t,e,Mo(n,2)):t},gr.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?bi(t,e,r,n):t},gr.pullAt=Ls,gr.range=Vu,gr.rangeRight=$u,gr.rearg=da,gr.reject=function(t,e){return(ya(t)?an:Dr)(t,la(Mo(e,3)))},gr.remove=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;for(e=Mo(e,3);++r<o;){var s=t[r];e(s,r,t)&&(n.push(s),i.push(r))}return xi(t,i),n},gr.rest=function(t,e){if("function"!=typeof t)throw new oe(s);return Ci(t,e=e===r?e:$a(e))},gr.reverse=Ss,gr.sampleSize=function(t,e,n){return e=(n?Zo(t,e,n):e===r)?1:$a(e),(ya(t)?Ar:Ai)(t,e)},gr.set=function(t,e,n){return null==t?t:Li(t,e,n)},gr.setWith=function(t,e,n,i){return i="function"==typeof i?i:r,null==t?t:Li(t,e,n,i)},gr.shuffle=function(t){return(ya(t)?Lr:ji)(t)},gr.slice=function(t,e,n){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&Zo(t,e,n)?(e=0,n=i):(e=null==e?0:$a(e),n=n===r?i:$a(n)),Ti(t,e,n)):[]},gr.sortBy=ta,gr.sortedUniq=function(t){return t&&t.length?Ui(t):[]},gr.sortedUniqBy=function(t,e){return t&&t.length?Ui(t,Mo(e,2)):[]},gr.split=function(t,e,n){return n&&"number"!=typeof n&&Zo(t,e,n)&&(e=n=r),(n=n===r?U:n>>>0)?(t=Ga(t))&&("string"==typeof e||null!=e&&!Oa(e))&&!(e=Mi(e))&&Un(t)?Ji(Vn(t),0,n):t.split(e,n):[]},gr.spread=function(t,e){if("function"!=typeof t)throw new oe(s);return e=null==e?0:Gn($a(e),0),Ci((function(n){var r=n[e],i=Ji(n,0,e);return r&&hn(i,r),en(t,this,i)}))},gr.tail=function(t){var e=null==t?0:t.length;return e?Ti(t,1,e):[]},gr.take=function(t,e,n){return t&&t.length?Ti(t,0,(e=n||e===r?1:$a(e))<0?0:e):[]},gr.takeRight=function(t,e,n){var i=null==t?0:t.length;return i?Ti(t,(e=i-(e=n||e===r?1:$a(e)))<0?0:e,i):[]},gr.takeRightWhile=function(t,e){return t&&t.length?Vi(t,Mo(e,3),!1,!0):[]},gr.takeWhile=function(t,e){return t&&t.length?Vi(t,Mo(e,3)):[]},gr.tap=function(t,e){return e(t),t},gr.throttle=function(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new oe(s);return Sa(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),sa(t,e,{leading:r,maxWait:e,trailing:i})},gr.thru=Vs,gr.toArray=Ha,gr.toPairs=pu,gr.toPairsIn=du,gr.toPath=function(t){return ya(t)?ln(t,fs):Ba(t)?[t]:io(hs(Ga(t)))},gr.toPlainObject=qa,gr.transform=function(t,e,n){var r=ya(t),i=r||ka(t)||Ma(t);if(e=Mo(e,4),null==n){var o=t&&t.constructor;n=i?r?new o:[]:Sa(t)&&Ra(o)?vr(xe(t)):{}}return(i?rn:Zr)(t,(function(t,r,i){return e(n,t,r,i)})),n},gr.unary=function(t){return na(t,1)},gr.union=Is,gr.unionBy=js,gr.unionWith=Ts,gr.uniq=function(t){return t&&t.length?Ni(t):[]},gr.uniqBy=function(t,e){return t&&t.length?Ni(t,Mo(e,2)):[]},gr.uniqWith=function(t,e){return e="function"==typeof e?e:r,t&&t.length?Ni(t,r,e):[]},gr.unset=function(t,e){return null==t||Fi(t,e)},gr.unzip=zs,gr.unzipWith=Os,gr.update=function(t,e,n){return null==t?t:Hi(t,e,Gi(n))},gr.updateWith=function(t,e,n,i){return i="function"==typeof i?i:r,null==t?t:Hi(t,e,Gi(n),i)},gr.values=gu,gr.valuesIn=function(t){return null==t?[]:Sn(t,au(t))},gr.without=Ps,gr.words=Ru,gr.wrap=function(t,e){return fa(Gi(e),t)},gr.xor=Us,gr.xorBy=Bs,gr.xorWith=Ms,gr.zip=Ns,gr.zipObject=function(t,e){return Di(t||[],e||[],Ir)},gr.zipObjectDeep=function(t,e){return Di(t||[],e||[],Li)},gr.zipWith=Fs,gr.entries=pu,gr.entriesIn=du,gr.extend=Za,gr.extendWith=Ja,Uu(gr,gr),gr.add=qu,gr.attempt=Au,gr.camelCase=vu,gr.capitalize=mu,gr.ceil=Gu,gr.clamp=function(t,e,n){return n===r&&(n=e,e=r),n!==r&&(n=(n=Da(n))==n?n:0),e!==r&&(e=(e=Da(e))==e?e:0),Ur(Da(t),e,n)},gr.clone=function(t){return Br(t,p)},gr.cloneDeep=function(t){return Br(t,h|p)},gr.cloneDeepWith=function(t,e){return Br(t,h|p,e="function"==typeof e?e:r)},gr.cloneWith=function(t,e){return Br(t,p,e="function"==typeof e?e:r)},gr.conformsTo=function(t,e){return null==e||Mr(t,e,su(e))},gr.deburr=_u,gr.defaultTo=function(t,e){return null==t||t!=t?e:t},gr.divide=Yu,gr.endsWith=function(t,e,n){t=Ga(t),e=Mi(e);var i=t.length,o=n=n===r?i:Ur($a(n),0,i);return(n-=e.length)>=0&&t.slice(n,o)==e},gr.eq=ga,gr.escape=function(t){return(t=Ga(t))&&Ct.test(t)?t.replace(kt,On):t},gr.escapeRegExp=function(t){return(t=Ga(t))&&zt.test(t)?t.replace(Tt,"\\$&"):t},gr.every=function(t,e,n){var i=ya(t)?sn:$r;return n&&Zo(t,e,n)&&(e=r),i(t,Mo(e,3))},gr.find=Ds,gr.findIndex=_s,gr.findKey=function(t,e){return vn(t,Mo(e,3),Zr)},gr.findLast=qs,gr.findLastIndex=ys,gr.findLastKey=function(t,e){return vn(t,Mo(e,3),Jr)},gr.floor=Zu,gr.forEach=Gs,gr.forEachRight=Ys,gr.forIn=function(t,e){return null==t?t:Gr(t,Mo(e,3),au)},gr.forInRight=function(t,e){return null==t?t:Yr(t,Mo(e,3),au)},gr.forOwn=function(t,e){return t&&Zr(t,Mo(e,3))},gr.forOwnRight=function(t,e){return t&&Jr(t,Mo(e,3))},gr.get=eu,gr.gt=va,gr.gte=ma,gr.has=function(t,e){return null!=t&&Do(t,e,ni)},gr.hasIn=nu,gr.head=bs,gr.identity=Tu,gr.includes=function(t,e,n,r){t=ba(t)?t:gu(t),n=n&&!r?$a(n):0;var i=t.length;return n<0&&(n=Gn(i+n,0)),Ua(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&_n(t,e,n)>-1},gr.indexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:$a(n);return i<0&&(i=Gn(r+i,0)),_n(t,e,i)},gr.inRange=function(t,e,n){return e=Va(e),n===r?(n=e,e=0):n=Va(n),function(t,e,n){return t>=Yn(e,n)&&t<Gn(e,n)}(t=Da(t),e,n)},gr.invoke=ou,gr.isArguments=_a,gr.isArray=ya,gr.isArrayBuffer=wa,gr.isArrayLike=ba,gr.isArrayLikeObject=xa,gr.isBoolean=function(t){return!0===t||!1===t||Ia(t)&&ti(t)==$},gr.isBuffer=ka,gr.isDate=Ea,gr.isElement=function(t){return Ia(t)&&1===t.nodeType&&!za(t)},gr.isEmpty=function(t){if(null==t)return!0;if(ba(t)&&(ya(t)||"string"==typeof t||"function"==typeof t.splice||ka(t)||Ma(t)||_a(t)))return!t.length;var e=Wo(t);if(e==Z||e==nt)return!t.size;if(Qo(t))return!hi(t).length;for(var n in t)if(he.call(t,n))return!1;return!0},gr.isEqual=function(t,e){return ai(t,e)},gr.isEqualWith=function(t,e,n){var i=(n="function"==typeof n?n:r)?n(t,e):r;return i===r?ai(t,e,r,n):!!i},gr.isError=Ca,gr.isFinite=function(t){return"number"==typeof t&&gn(t)},gr.isFunction=Ra,gr.isInteger=Aa,gr.isLength=La,gr.isMap=ja,gr.isMatch=function(t,e){return t===e||ui(t,e,Fo(e))},gr.isMatchWith=function(t,e,n){return n="function"==typeof n?n:r,ui(t,e,Fo(e),n)},gr.isNaN=function(t){return Ta(t)&&t!=+t},gr.isNative=function(t){if(Xo(t))throw new Qt(o);return ci(t)},gr.isNil=function(t){return null==t},gr.isNull=function(t){return null===t},gr.isNumber=Ta,gr.isObject=Sa,gr.isObjectLike=Ia,gr.isPlainObject=za,gr.isRegExp=Oa,gr.isSafeInteger=function(t){return Aa(t)&&t>=-z&&t<=z},gr.isSet=Pa,gr.isString=Ua,gr.isSymbol=Ba,gr.isTypedArray=Ma,gr.isUndefined=function(t){return t===r},gr.isWeakMap=function(t){return Ia(t)&&Wo(t)==st},gr.isWeakSet=function(t){return Ia(t)&&ti(t)==at},gr.join=function(t,e){return null==t?"":kn.call(t,e)},gr.kebabCase=yu,gr.last=Cs,gr.lastIndexOf=function(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var o=i;return n!==r&&(o=(o=$a(n))<0?Gn(i+o,0):Yn(o,i-1)),e==e?function(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}(t,e,o):mn(t,wn,o,!0)},gr.lowerCase=wu,gr.lowerFirst=bu,gr.lt=Na,gr.lte=Fa,gr.max=function(t){return t&&t.length?Wr(t,Tu,ei):r},gr.maxBy=function(t,e){return t&&t.length?Wr(t,Mo(e,2),ei):r},gr.mean=function(t){return bn(t,Tu)},gr.meanBy=function(t,e){return bn(t,Mo(e,2))},gr.min=function(t){return t&&t.length?Wr(t,Tu,pi):r},gr.minBy=function(t,e){return t&&t.length?Wr(t,Mo(e,2),pi):r},gr.stubArray=Wu,gr.stubFalse=Du,gr.stubObject=function(){return{}},gr.stubString=function(){return""},gr.stubTrue=function(){return!0},gr.multiply=Ku,gr.nth=function(t,e){return t&&t.length?_i(t,$a(e)):r},gr.noConflict=function(){return $e._===this&&($e._=ve),this},gr.noop=Bu,gr.now=ea,gr.pad=function(t,e,n){t=Ga(t);var r=(e=$a(e))?Hn(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return wo(De(i),n)+t+wo(We(i),n)},gr.padEnd=function(t,e,n){t=Ga(t);var r=(e=$a(e))?Hn(t):0;return e&&r<e?t+wo(e-r,n):t},gr.padStart=function(t,e,n){t=Ga(t);var r=(e=$a(e))?Hn(t):0;return e&&r<e?wo(e-r,n)+t:t},gr.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),Jn(Ga(t).replace(Ot,""),e||0)},gr.random=function(t,e,n){if(n&&"boolean"!=typeof n&&Zo(t,e,n)&&(e=n=r),n===r&&("boolean"==typeof e?(n=e,e=r):"boolean"==typeof t&&(n=t,t=r)),t===r&&e===r?(t=0,e=1):(t=Va(t),e===r?(e=t,t=0):e=Va(e)),t>e){var i=t;t=e,e=i}if(n||t%1||e%1){var o=Kn();return Yn(t+o*(e-t+Ne("1e-"+((o+"").length-1))),e)}return ki(t,e)},gr.reduce=function(t,e,n){var r=ya(t)?fn:En,i=arguments.length<3;return r(t,Mo(e,4),n,i,Hr)},gr.reduceRight=function(t,e,n){var r=ya(t)?pn:En,i=arguments.length<3;return r(t,Mo(e,4),n,i,Vr)},gr.repeat=function(t,e,n){return e=(n?Zo(t,e,n):e===r)?1:$a(e),Ei(Ga(t),e)},gr.replace=function(){var t=arguments,e=Ga(t[0]);return t.length<3?e:e.replace(t[1],t[2])},gr.result=function(t,e,n){var i=-1,o=(e=Yi(e,t)).length;for(o||(o=1,t=r);++i<o;){var s=null==t?r:t[fs(e[i])];s===r&&(i=o,s=n),t=Ra(s)?s.call(t):s}return t},gr.round=Xu,gr.runInContext=t,gr.sample=function(t){return(ya(t)?Rr:Ri)(t)},gr.size=function(t){if(null==t)return 0;if(ba(t))return Ua(t)?Hn(t):t.length;var e=Wo(t);return e==Z||e==nt?t.size:hi(t).length},gr.snakeCase=xu,gr.some=function(t,e,n){var i=ya(t)?dn:zi;return n&&Zo(t,e,n)&&(e=r),i(t,Mo(e,3))},gr.sortedIndex=function(t,e){return Oi(t,e)},gr.sortedIndexBy=function(t,e,n){return Pi(t,e,Mo(n,2))},gr.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var r=Oi(t,e);if(r<n&&ga(t[r],e))return r}return-1},gr.sortedLastIndex=function(t,e){return Oi(t,e,!0)},gr.sortedLastIndexBy=function(t,e,n){return Pi(t,e,Mo(n,2),!0)},gr.sortedLastIndexOf=function(t,e){if(null==t?0:t.length){var n=Oi(t,e,!0)-1;if(ga(t[n],e))return n}return-1},gr.startCase=ku,gr.startsWith=function(t,e,n){return t=Ga(t),n=null==n?0:Ur($a(n),0,t.length),e=Mi(e),t.slice(n,n+e.length)==e},gr.subtract=Qu,gr.sum=function(t){return t&&t.length?Cn(t,Tu):0},gr.sumBy=function(t,e){return t&&t.length?Cn(t,Mo(e,2)):0},gr.template=function(t,e,n){var i=gr.templateSettings;n&&Zo(t,e,n)&&(e=r),t=Ga(t),e=Ja({},e,i,Lo);var o,s,u=Ja({},e.imports,i.imports,Lo),c=su(u),l=Sn(u,c),h=0,f=e.interpolate||Jt,p="__p += '",d=re((e.escape||Jt).source+"|"+f.source+"|"+(f===Lt?Vt:Jt).source+"|"+(e.evaluate||Jt).source+"|$","g"),g="//# sourceURL="+(he.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Pe+"]")+"\n";t.replace(d,(function(e,n,r,i,a,u){return r||(r=i),p+=t.slice(h,u).replace(Kt,Pn),n&&(o=!0,p+="' +\n__e("+n+") +\n'"),a&&(s=!0,p+="';\n"+a+";\n__p += '"),r&&(p+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),h=u+e.length,e})),p+="';\n";var v=he.call(e,"variable")&&e.variable;if(v){if(Ft.test(v))throw new Qt(a)}else p="with (obj) {\n"+p+"\n}\n";p=(s?p.replace(yt,""):p).replace(wt,"$1").replace(bt,"$1;"),p="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var m=Au((function(){return te(c,g+"return "+p).apply(r,l)}));if(m.source=p,Ca(m))throw m;return m},gr.times=function(t,e){if((t=$a(t))<1||t>z)return[];var n=U,r=Yn(t,U);e=Mo(e),t-=U;for(var i=Rn(r,e);++n<t;)e(n);return i},gr.toFinite=Va,gr.toInteger=$a,gr.toLength=Wa,gr.toLower=function(t){return Ga(t).toLowerCase()},gr.toNumber=Da,gr.toSafeInteger=function(t){return t?Ur($a(t),-z,z):0===t?t:0},gr.toString=Ga,gr.toUpper=function(t){return Ga(t).toUpperCase()},gr.trim=function(t,e,n){if((t=Ga(t))&&(n||e===r))return An(t);if(!t||!(e=Mi(e)))return t;var i=Vn(t),o=Vn(e);return Ji(i,jn(i,o),Tn(i,o)+1).join("")},gr.trimEnd=function(t,e,n){if((t=Ga(t))&&(n||e===r))return t.slice(0,$n(t)+1);if(!t||!(e=Mi(e)))return t;var i=Vn(t);return Ji(i,0,Tn(i,Vn(e))+1).join("")},gr.trimStart=function(t,e,n){if((t=Ga(t))&&(n||e===r))return t.replace(Ot,"");if(!t||!(e=Mi(e)))return t;var i=Vn(t);return Ji(i,jn(i,Vn(e))).join("")},gr.truncate=function(t,e){var n=R,i=A;if(Sa(e)){var o="separator"in e?e.separator:o;n="length"in e?$a(e.length):n,i="omission"in e?Mi(e.omission):i}var s=(t=Ga(t)).length;if(Un(t)){var a=Vn(t);s=a.length}if(n>=s)return t;var u=n-Hn(i);if(u<1)return i;var c=a?Ji(a,0,u).join(""):t.slice(0,u);if(o===r)return c+i;if(a&&(u+=c.length-u),Oa(o)){if(t.slice(u).search(o)){var l,h=c;for(o.global||(o=re(o.source,Ga($t.exec(o))+"g")),o.lastIndex=0;l=o.exec(h);)var f=l.index;c=c.slice(0,f===r?u:f)}}else if(t.indexOf(Mi(o),u)!=u){var p=c.lastIndexOf(o);p>-1&&(c=c.slice(0,p))}return c+i},gr.unescape=function(t){return(t=Ga(t))&&Et.test(t)?t.replace(xt,Wn):t},gr.uniqueId=function(t){var e=++fe;return Ga(t)+e},gr.upperCase=Eu,gr.upperFirst=Cu,gr.each=Gs,gr.eachRight=Ys,gr.first=bs,Uu(gr,(Ju={},Zr(gr,(function(t,e){he.call(gr.prototype,e)||(Ju[e]=t)})),Ju),{chain:!1}),gr.VERSION="4.17.21",rn(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){gr[t].placeholder=gr})),rn(["drop","take"],(function(t,e){yr.prototype[t]=function(n){n=n===r?1:Gn($a(n),0);var i=this.__filtered__&&!e?new yr(this):this.clone();return i.__filtered__?i.__takeCount__=Yn(n,i.__takeCount__):i.__views__.push({size:Yn(n,U),type:t+(i.__dir__<0?"Right":"")}),i},yr.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),rn(["filter","map","takeWhile"],(function(t,e){var n=e+1,r=n==I||3==n;yr.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Mo(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}})),rn(["head","last"],(function(t,e){var n="take"+(e?"Right":"");yr.prototype[t]=function(){return this[n](1).value()[0]}})),rn(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");yr.prototype[t]=function(){return this.__filtered__?new yr(this):this[n](1)}})),yr.prototype.compact=function(){return this.filter(Tu)},yr.prototype.find=function(t){return this.filter(t).head()},yr.prototype.findLast=function(t){return this.reverse().find(t)},yr.prototype.invokeMap=Ci((function(t,e){return"function"==typeof t?new yr(this):this.map((function(n){return oi(n,t,e)}))})),yr.prototype.reject=function(t){return this.filter(la(Mo(t)))},yr.prototype.slice=function(t,e){t=$a(t);var n=this;return n.__filtered__&&(t>0||e<0)?new yr(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==r&&(n=(e=$a(e))<0?n.dropRight(-e):n.take(e-t)),n)},yr.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},yr.prototype.toArray=function(){return this.take(U)},Zr(yr.prototype,(function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),i=/^(?:head|last)$/.test(e),o=gr[i?"take"+("last"==e?"Right":""):e],s=i||/^find/.test(e);o&&(gr.prototype[e]=function(){var e=this.__wrapped__,a=i?[1]:arguments,u=e instanceof yr,c=a[0],l=u||ya(e),h=function(t){var e=o.apply(gr,hn([t],a));return i&&f?e[0]:e};l&&n&&"function"==typeof c&&1!=c.length&&(u=l=!1);var f=this.__chain__,p=!!this.__actions__.length,d=s&&!f,g=u&&!p;if(!s&&l){e=g?e:new yr(this);var v=t.apply(e,a);return v.__actions__.push({func:Vs,args:[h],thisArg:r}),new _r(v,f)}return d&&g?t.apply(this,a):(v=this.thru(h),d?i?v.value()[0]:v.value():v)})})),rn(["pop","push","shift","sort","splice","unshift"],(function(t){var e=se[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);gr.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var i=this.value();return e.apply(ya(i)?i:[],t)}return this[n]((function(n){return e.apply(ya(n)?n:[],t)}))}})),Zr(yr.prototype,(function(t,e){var n=gr[e];if(n){var r=n.name+"";he.call(sr,r)||(sr[r]=[]),sr[r].push({name:e,func:n})}})),sr[vo(r,m).name]=[{name:"wrapper",func:r}],yr.prototype.clone=function(){var t=new yr(this.__wrapped__);return t.__actions__=io(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=io(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=io(this.__views__),t},yr.prototype.reverse=function(){if(this.__filtered__){var t=new yr(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},yr.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=ya(t),r=e<0,i=n?t.length:0,o=function(t,e,n){var r=-1,i=n.length;for(;++r<i;){var o=n[r],s=o.size;switch(o.type){case"drop":t+=s;break;case"dropRight":e-=s;break;case"take":e=Yn(e,t+s);break;case"takeRight":t=Gn(t,e-s)}}return{start:t,end:e}}(0,i,this.__views__),s=o.start,a=o.end,u=a-s,c=r?a:s-1,l=this.__iteratees__,h=l.length,f=0,p=Yn(u,this.__takeCount__);if(!n||!r&&i==u&&p==u)return $i(t,this.__actions__);var d=[];t:for(;u--&&f<p;){for(var g=-1,v=t[c+=e];++g<h;){var m=l[g],_=m.iteratee,y=m.type,w=_(v);if(y==j)v=w;else if(!w){if(y==I)continue t;break t}}d[f++]=v}return d},gr.prototype.at=$s,gr.prototype.chain=function(){return Hs(this)},gr.prototype.commit=function(){return new _r(this.value(),this.__chain__)},gr.prototype.next=function(){this.__values__===r&&(this.__values__=Ha(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?r:this.__values__[this.__index__++]}},gr.prototype.plant=function(t){for(var e,n=this;n instanceof mr;){var i=ds(n);i.__index__=0,i.__values__=r,e?o.__wrapped__=i:e=i;var o=i;n=n.__wrapped__}return o.__wrapped__=t,e},gr.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof yr){var e=t;return this.__actions__.length&&(e=new yr(this)),(e=e.reverse()).__actions__.push({func:Vs,args:[Ss],thisArg:r}),new _r(e,this.__chain__)}return this.thru(Ss)},gr.prototype.toJSON=gr.prototype.valueOf=gr.prototype.value=function(){return $i(this.__wrapped__,this.__actions__)},gr.prototype.first=gr.prototype.head,Ae&&(gr.prototype[Ae]=function(){return this}),gr}();"function"==typeof define&&"object"==typeof define.amd&&define.amd?($e._=Dn,define((function(){return Dn}))):De?((De.exports=Dn)._=Dn,We._=Dn):$e._=Dn}).call(this)})),i("27Lyk").register(JSON.parse('{"csP5J":"index.77b95d34.js","4TtGH":"silence.eef11540.mp3","5oz5y":"pop.6ad0de55.mp3","cLiSR":"tick.493d42fd.mp3","ltDU3":"coins.6f416006.mp3","guyr3":"drop.55329a30.mp3"}'));class o{static mapping=new WeakMap;static get(t){return o.mapping.get(t)??null}constructor(t){this.element=t,this.x=0,this.y=0,o.mapping.set(t,this)}get data(){if(this.element instanceof HTMLElement||this.element instanceof SVGElement)return this.element.dataset;throw new Error("Element does not support dataset")}set data(t){if(!(this.element instanceof HTMLElement||this.element instanceof SVGElement))throw new Error("Element does not support dataset");Object.assign(this.element.dataset,t)}get isHidden(){return this.element.hasAttribute("hidden")}set isHidden(t){this.element instanceof HTMLElement?this.element.hidden=t:t?this.element.setAttribute("hidden",""):this.element.removeAttribute("hidden")}on(t,e,n){this.element.addEventListener(t,e,n)}off(t,e,n){this.element.removeEventListener(t,e,n)}once(t,e,n){const r="boolean"==typeof n?n:n?.capture,i="boolean"!=typeof n&&n?.passive;this.element.addEventListener(t,e,{capture:r,passive:i,once:!0})}emit(t,e,n=!0,r=!1){if("object"==typeof t)return this.element.dispatchEvent(t);{const i=new CustomEvent(t,{bubbles:n,cancelable:r,detail:e});return this.element.dispatchEvent(i)}}get classes(){return this.element.classList}set classes(t){const e=Array.isArray(t)?t.join(" "):t.toString();this.element instanceof HTMLElement?this.element.className=e:this.element.setAttribute("class",e)}get style(){if(this.element instanceof SVGElement||this.element instanceof HTMLElement)return this.element.style;throw new Error("Cannot get style of non-HTML element")}get rect(){return this.element.getBoundingClientRect()}createResizeObserver(t){const e=new ResizeObserver(t);return e.observe(this.element),e}set style(t){Object.assign(this.style,t)}get text(){return this.element.textContent??""}set text(t){this.element.textContent=t}append(...t){for(const e of t)this.element.append(e.element)}appendTo(t){t instanceof o?t.append(this):t.append(this.element)}remove(){this.element.remove()}get parent(){const t=this.element.parentElement;return t?o.get(t):null}get root(){const t=document.body;if(!t)throw new Error("Root element not found");const e=o.get(t);if(!e)throw new Error("Root component not found");return e}replace(t){this.element.replaceWith(t.element)}calculateCenterPosition(t,e){const n=this.rect;this.x=n.x-t+n.width/2,this.y=n.y-e+n.height/2}}class s extends o{constructor(t,e=!0){super(document.createElement("button")),this.type="button",this.label=t,e&&(this.text=t)}get type(){return this.element.type}set type(t){this.element.type=t}get label(){return this.element.getAttribute("aria-label")??""}set label(t){this.element.setAttribute("aria-label",t)}}class a extends o{constructor(){if(super(document.body),a.instance)throw new Error("Root already exists");a.instance=this}}function u(t){return t.sort((()=>function(t=!1){return t?l(-1,1):Math.random()<.5?-1:1}()))}function c(t,e){return Math.random()*(e-t)+t}function l(t,e){return Math.floor(c(t,e+1))}function h(t,e=0){return l(e,e+Math.max(0,t-1))}function f(t){return new Promise((e=>setTimeout(e,t)))}const p=["th","st","nd","rd"];function d(t){const e=t%100;return t+(p[(e-20)%10]??p[e]??p[0])}class g{reset(){this.data=Object.assign({},this.initial),this.save(),this.load(this.initial)}constructor(t,e){this.name=t,this.initial=e,this.load(e);const n=this;this.proxy=new Proxy(this.data,{get:(t,e)=>n.get(e),set:(t,e,r)=>(n.set(e,r),!0)})}get(t){return this.data[t]}set(t,e){this.data[t]=e,this.save()}save(){localStorage.setItem(this.name,JSON.stringify(this.data))}load(t){const e=localStorage.getItem(this.name);if(e)try{const n=JSON.parse(e);"object"==typeof n&&null!==n&&(this.data=Object.assign({},t,n))}catch{}else this.data=Object.assign({},t),this.save()}}function v(t){return t.json()}function m(t){return new Promise(((e,n)=>{const r=new Audio;r.addEventListener("canplaythrough",(()=>e(r))),r.addEventListener("error",n),r.src=t}))}class _{constructor(t){this.id=t,this.username="",this.firstName="",this.lastName="",this.password="",this.avatar="",this.coins=l(300,500)}static fromRandomUser(t){const e=new _(t.login.uuid);return e.username=t.login.username,e.firstName=t.name.first,e.lastName=t.name.last,e.password=t.login.password,e.avatar=t.picture.thumbnail,e}toJSON(){return this}}async function y(t){var e,n;return(await(e=`https://randomuser.me/api/?results=${t}`,fetch(e,n).then(v))).results.map(_.fromRandomUser)}var w=i("f1q41");class b{constructor(t,e,n){this.storage=t,this.id=e,this.type=n}[Symbol.iterator](){return this.list[Symbol.iterator]()}get list(){return this.storage.get(this.id)}get count(){return this.list.length}save(t){const e=this.list,n=(0,w.find)(e,{id:t.id});n?(Object.assign(n,t),this.storage.set(this.id,e)):this.storage.set(this.id,e.concat(t))}saveAll(t){for(const e of t)this.save(e)}}const x={loggedIn:!1,following:!1,knowsHowToFullscreen:!1,knowsHowToLogin:!1,knowsResetInfo:!1,rewardedForFollowing:!1,coins:0},k={customerId:"",streamer:null,users:[]};class E{storage=new g("gamified",x);userStorage=new g("gamified-users",k);app=this.storage.proxy;users=this.userStorage.proxy;userModel=new b(this.userStorage,"users",_);constructor(){this.load()}load(){return this.ready=Promise.all([this.loadStreamer(),this.loadRandomUsers()])}async loadStreamer(){if(this.users.streamer)return;const t=await y(1);this.users.streamer=t[0]}async loadRandomUsers(){if(this.userModel.count>0)return;const t=await y(50);this.userModel.saveAll(t),this.users.customerId=t[0].id}reset(){return this.app.coins=0,this.app.following=!1,this.app.rewardedForFollowing=!1,this.userStorage.reset(),this.load()}}class C extends o{constructor(t,e){super(document.createElement("canvas"));const n=this.element.getContext(t,e);if(!n)throw new Error(`Failed to create ${t} context`);this.context=n}get width(){return this.element.width}set width(t){this.element.width=t}get height(){return this.element.height}set height(t){this.element.height=t}async toBlob(t,e){return await new Promise((n=>{this.element.toBlob(n,t,e)}))}toDataURL(t,e){return this.element.toDataURL(t,e)}}class R extends C{constructor(t){super("2d",t)}}const A=document.createElement("template");class L extends o{constructor(t){A.innerHTML=t;const e=A.content.firstChild?.cloneNode(!0);if(!e)throw new Error("Invalid SVG");super(e)}get viewbox(){return S.fromElement(this.element)}set viewbox(t){S.toElement(this.element,t)}}let S;var I;(I=S||(S={})).fromElement=function(t){const{x:e,y:n,width:r,height:i}=t.viewBox.baseVal;return[e,n,r,i]},I.toElement=function(t,e){const n=e.length>2?e[0]:0,r=e.length>2?e[1]:0,i=e.length>2?e[2]:e[0],o=e.length>2?e[3]??e[2]:e[1]??e[0],s=t.viewBox.baseVal;s.x=n,s.y=r,s.width=i,s.height=o};class j extends L{constructor(t,e,n,r="1em",i="1em",o="fill"){super(`<svg viewBox="0 0 ${e} ${n}" width="${r}" height="${i}" xmlns="http://www.w3.org/2000/svg">\n      <path d="${t}" ${o}="currentColor"></path>\n    </svg>`),this.attribute=o,this._path=this.element.querySelector("path")}clone(){return new j(this.path,this.viewbox[2],this.viewbox[3],this.width,this.height,this.attribute)}get path(){return this._path.getAttribute("d")}set path(t){this._path.setAttribute("d",t)}get width(){return this.element.getAttribute("width")}set width(t){this.element.setAttribute("width",t.toString())}get height(){return this.element.getAttribute("height")}set height(t){this.element.setAttribute("height",t.toString())}}var T;T=new URL(i("27Lyk").resolve("4TtGH"),import.meta.url).toString();const z=new URL(T).href;class O{sounds={};promises=[];hasAutoPlayPermission=!1;constructor(){this.getAutoPlayPermission()}async getAutoPlayPermission(){this.hasAutoPlayPermission=!1;const t=await m(z);return new Promise((e=>{document.addEventListener("click",(()=>{t.play(),this.hasAutoPlayPermission=!0,e()}),{once:!0})}))}async loadSound(t,e,n=1){const r=m(e);this.promises.push(r);const i=await r;i.autoplay=!1,i.loop=!1,i.volume=n,i.preload="auto",this.sounds[t]=i}play(t){if(!this.hasAutoPlayPermission)return;const e=this.sounds[t];e&&(e.currentTime=0,e.play())}}var P;P=new URL(i("27Lyk").resolve("5oz5y"),import.meta.url).toString();const U=new URL(P).href,B=(new j("m8 2.748-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01L8 2.748zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143c.06.055.119.112.176.171a3.12 3.12 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15z",16,16),new j("M8 1.314C12.438-3.248 23.534 4.735 8 15-7.534 4.736 3.562-3.248 8 1.314z",16,16));class M extends s{sounds=new O;constructor(){super("Like",!1),this.append(B),this.classes="like-button",this.sounds.loadSound("pop",U),this.on("click",(()=>{this.sounds.play("pop")}))}}class N{constructor(t){this.ctx=t}get width(){return this.ctx.canvas.width}get height(){return this.ctx.canvas.height}clear(){this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height)}drawPath2D(t,e,n,r,i,o,s,a,u=0,c=0,l=s,h=a,f=!1){const p=this.ctx,[d,g,v,m,_]=H.toFull(r);p.save(),p.translate(u-l/2,c-h/2),p.rotate(v),p.translate(d,g),p.scale(l/s*m,h/a*_),"rect"===f&&(p.beginPath(),p.translate(-i,-o),p.rect(0,0,s,a),p.clip()),e&&p.fill(t),n&&p.stroke(t),!0===f&&p.clip(t),p.restore()}}function F(t){if(null===t)return[0,0,0,0];if("number"==typeof t)return[t,t,t,t];const[e,n=e,r=e,i=n]=t;return[e,n,r,i]}let H;var V;(V=H||(H={})).getRotation=function(t){switch(t.length){case 0:case 2:return 0;case 1:return t[0];case 3:case 4:case 5:return t[2];default:throw new Error("Invalid transform tuple")}},V.getScaleX=function(t){switch(t.length){case 0:case 1:case 2:case 3:return 1;case 4:case 5:return t[3];default:throw new Error("Invalid transform tuple")}},V.getScaleY=function(t){switch(t.length){case 0:case 1:case 2:case 3:return 1;case 4:return t[3];case 5:return t[4];default:throw new Error("Invalid transform tuple")}},V.getTranslateX=function(t){switch(t.length){case 0:return 0;case 1:case 2:case 3:case 4:case 5:return t[0];default:throw new Error("Invalid transform tuple")}},V.getTranslateY=function(t){switch(t.length){case 0:case 1:return 0;case 2:case 3:case 4:case 5:return t[1];default:throw new Error("Invalid transform tuple")}},V.toFull=function(t){if(!Array.isArray(t)){const{x:e=0,y:n=0,rotation:r=0,scale:i=1}=t,[o,s]=Array.isArray(i)?i:[i,i];return[e,n,r,o,s]}switch(t.length){case 0:return[0,0,0,1,1];case 1:return[0,0,t[0],1,1];case 2:return[t[0],t[1],0,1,1];case 3:return[t[0],t[1],t[2],1,1];case 4:return[t[0],t[1],t[2],t[3],t[3]];case 5:return t;default:throw new Error("Invalid transform tuple")}};const $={draw:(w=i("f1q41")).noop};class W{constructor(t,e=!1,n=!0,r=!1){this.each=e,this.fill=n,this.stroke=r,this.radius=0,"function"==typeof t?this.getRadius:Array.isArray(t)?(this.initialize=t[0],this.getRadius=t[1]):this.radius=t}initialize(t,e){}draw(t,e,n){const r=t.ctx,i=this.getRadius(e,n);this.begin(r,!0===this.each),this.move(r,!1===this.each,e.x,e.y),r.arc(e.x,e.y,i,0,2*Math.PI),this.commit(r,!0===this.each)}commit(t,e){e&&(this.fill&&t.fill(),this.stroke&&t.stroke())}begin(t,e){e&&t.beginPath()}move(t,e,n,r){e&&t.moveTo(n,r)}push(t){this.begin(t.ctx,!1===this.each)}pop(t){this.commit(t.ctx,!1===this.each)}getRadius(t,e){return this.radius}}w=i("f1q41");const D={};class q{constructor(t,e){this.palette=t,this.chooseTheme=this.chooseRandomTheme,this.chooseRandomTheme=this.chooseRandomTheme.bind(this),this.chooseTheme=e??this.chooseRandomTheme}chooseRandomTheme(t){return h(t.length)}initialize(t,e){const n=this.chooseTheme(this.palette,e,this.chooseRandomTheme,t);t.theme=n}each(t,e,n){t.ctx.fillStyle=this.palette[n.theme]}}class G{constructor(t,e,n,r){this.theme=t,e&&(this.easing=e),r&&(this.predicate=r),n&&(this.init=n)}init(t,e){}easing(t){return t}predicate(t,e){return!0}initialize(t,e){this.init(t,e),this.theme.initialize?.apply(this.theme,arguments)}all(){this.theme.all?.apply(this.theme,arguments)}each(t,e,n,r){if(this.predicate(n,r)){const e=this.easing(r);t.ctx.globalAlpha=1-e}this.theme.each?.apply(this.theme,arguments)}}w=i("f1q41");function Y(t){return t*t}function Z(t){return t*t*t*t*t}function J(t){return t}let K;!function(t){function e(t){return"number"==typeof t?[-t,t]:Array.isArray(t)?t:[t.min,t.max]}function n(t,e){t[0]*=e,t[1]*=e}function r(t){const[e,n]=t;return c(e,n)}t.parseUnit=e,t.parse=function(t){t="number"==typeof t?[t,t]:Array.isArray(t)?t:[t.x,t.y];const[n,r=n]=t.map(e);return[n,r]},t.scaleUnit=n,t.scale=function(t,e){n(t[0],e),n(t[1],e)},t.random=function(t){const[e,n]=t;return[r(e),r(n)]},t.randomUnit=r}(K||(K={}));class X{constructor({position:t=0,velocity:e=0,acceleration:n=0,rotation:r=[0,2*Math.PI],angularVelocity:i=0}={}){this.position=K.parse(t),this.velocity=K.parse(e),this.acceleration=K.parse(n),this.rotation=K.parseUnit(r),this.anglarVelocity=K.parseUnit(i)}scale(t,e=t){K.scale(this.position,t),K.scale(this.velocity,t),K.scale(this.acceleration,t),K.scaleUnit(this.rotation,e),K.scaleUnit(this.anglarVelocity,e)}initialize(t){const[e,n]=K.random(this.position),[r,i]=K.random(this.velocity),[o,s]=K.random(this.acceleration);t.x+=e,t.y+=n,t.vx+=r,t.vy+=i,t.ax=o,t.ay=s,t.r=c(...this.rotation),t.vr=c(...this.anglarVelocity)}tick(t,e){t.vx+=t.ax*e,t.vy+=t.ay*e,t.x+=t.vx*e,t.y+=t.vy*e,t.r+=t.vr*e}lerp(){}}function Q(t,e,n){return t+(e-t)*n}class tt{constructor(t,e,{capacity:n=100,timeout:r=10,margins:i=0,theme:o=D,graphics:s=$,rate:a=1,speed:u=1,simulators:c=[]}={}){this.loop=t,this.context=e,this.particles=new Set,this.pool=[],this.x=0,this.y=0,this.capacity=n,this.timeout=r,this.margins=F(i),this.theme=o,this.graphics=s,this.rate=a,this.simulators=c,this.speed=u,t.onUpdate(this.onUpdate.bind(this)),t.onTick(this.onTick.bind(this)),t.onRender(this.onRender.bind(this))}emit(t,e,n,r){const i=r??this.rate;for(let r=0;r<i;r++)this.emitOnce(t,e,n);this.loop.start()}emitOnce(t,e,n){if(this.particles.size>=this.capacity)return;const r=this.pool.pop()??{};r.age=0,r.x=t,r.y=e,r.vx=0,r.vy=0,r.r=0,this.theme.initialize?.(r,n),this.graphics.initialize?.(r,n);for(const t of this.simulators)t.initialize(r,n);this.particles.add(r)}onTick(t){t*=this.speed;for(const e of this.simulators){for(const n of this.particles)e.tick(n,t),n.age+=t;for(const t of this.particles)e.lerp(t,t.age/this.timeout)}}onUpdate(){const t=this.timeout,{width:e,height:n}=this.context,[r,i,o,s]=this.margins,a=-s,u=-r,c=e+i,l=n+o;for(const e of this.particles)(e.age>t||(h=e.x,f=e.y,h<a||h>c||f<u||f>l))&&(this.particles.delete(e),this.pool.push(e));var h,f}onRender(){const t=this.context,e=this.particles.size,n=this.timeout,r=t.ctx;r.save(),this.theme.all?.(t,e),this.graphics.push?.(t,e);for(const i of this.particles){r.save();const o=(0,w.clamp)(i.age/n,0,1);this.theme.each?.(t,e,i,o),this.graphics.draw(t,i,o),r.restore()}this.graphics.pop?.(t),r.restore()}attachMouseTracker(){const t=this.context.ctx.canvas.parentNode,e=t.getBoundingClientRect();this.x=e.width/2,this.y=e.height/2,t.addEventListener("pointermove",(t=>{if(this.x=t.offsetX,this.y=t.offsetY,t.target!==t.currentTarget){const e=t.target.getBoundingClientRect(),n=t.currentTarget.getBoundingClientRect();this.x+=e.left-n.left,this.y+=e.top-n.top}}))}reset(){this.particles.clear(),this.pool.length=0}}const et=new Path2D(B.path),nt=B.viewbox,rt=[new X({position:0,velocity:{x:[-100,-10],y:[-100,-200]},acceleration:{x:[0,50],y:0},angularVelocity:Math.PI})],it=new class{constructor(t,e,n=[0,0,0,1,1],r=!0,i=!1){this.path=t,this.viewbox=e,this.transform=n,this.fill=r,this.stroke=i}draw(t,e){const n=e.r,r=e.s??1,i=e.sx??r,o=e.sy??r,s=e.ox??0,a=e.oy??0,[u,c,l,h,f]=H.toFull(this.transform);t.drawPath2D(this.path,this.fill,this.stroke,[u+s,c+a,l+n,h*i,f*o],...this.viewbox,e.x,e.y)}}(et,nt,{x:5,y:10,scale:1});const ot=new G(new q(["gold","crimson","red","pink","hotpink","deeppink","darkorchid","darkmagenta","purple","indigo","indianred","palevioletred","violet","darkred"],((t,e,n)=>e?0:1+Math.max(0,n(t)-1))),(function(t){return 1-Math.sqrt(1-Math.pow(t,2))}),((t,e)=>{t.userClicked=e?1:0}));class st extends tt{button=new M;enableClick=!0;constructor(t){const e=new R;super(t,new N(e.context),{capacity:100,timeout:3,simulators:rt,graphics:it,theme:ot}),this.canvas=e;const n=this.button;e.classes="hearts",n.classes="like-button",n.on("click",this.onClick.bind(this)),e.createResizeObserver(this.onResize.bind(this))}onResize(){const t=window.devicePixelRatio,e=this.canvas.rect,n=e.width*t,r=e.height*t;this.canvas.width=n,this.canvas.height=r,this.context.ctx.resetTransform(),this.context.ctx.scale(t,t),this.loop.start(),this.canvas.emit("resize",[e.left,e.top,n,r])}onClick(){if(!this.enableClick)return;const t=this.button;this.emit(t.x,t.y,!0,2)}onUpdate(){if(super.onUpdate(),Math.random()<.04){const t=this.button;this.emit(t.x,t.y,!1)}}onRender(){this.context.clear(),super.onRender()}}class at{_tickers=[];_renderer=[];_updaters=[];constructor(t){this.rate=t,this.interval=1e3/t,this.step=1/t}onTick(t){this._tickers.push(t)}onRender(t){this._renderer.push(t)}onUpdate(t){this._updaters.push(t)}_running=!1;start(){this._running||(this._last=performance.now(),this._running=!0,this._requestFrame(),window.addEventListener("pagehide",this._onPageHide),window.addEventListener("pageshow",this._onPageShow))}stop(){this._running&&(this._running=!1,this._cancelFrame(),window.removeEventListener("pagehide",this._onPageHide),window.removeEventListener("pageshow",this._onPageShow))}_last=0;_frame=t=>{if(!this._running)return;const e=t-this._last;for(this._update(t,e),this._last=t,this._lag+=e;this._lag>=this.interval;)this._tick(this.step);this._render(this._lag/this.interval,t,e),this._requestFrame()};_update(t,e){for(const n of this._updaters)n(t,e,this._time)}_lag=0;_time=0;_tick(t){this._lag-=this.interval,this._time+=this.step;for(const e of this._tickers)e(t,this._time)}_render(t,e,n){for(const r of this._renderer)r(t,e,n)}_onPageHide=()=>this._onPageHiddenChange(!1);_onPageShow=()=>this._onPageHiddenChange(!0);_onPageHiddenChange(t){this._running&&(t?(this._last=performance.now(),this._requestFrame()):this._cancelFrame())}_fid=0;_requestFrame(){this._fid=requestAnimationFrame(this._frame)}_cancelFrame(){cancelAnimationFrame(this._fid)}}const ut=new j("M264.4 95.01c-35.6-.06-80.2 11.19-124.2 34.09C96.27 152 61.45 182 41.01 211.3c-20.45 29.2-25.98 56.4-15.92 75.8 10.07 19.3 35.53 30.4 71.22 30.4 35.69.1 80.29-11.2 124.19-34 44-22.9 78.8-53 99.2-82.2 20.5-29.2 25.9-56.4 15.9-75.8-10.1-19.3-35.5-30.49-71.2-30.49zm91.9 70.29c-3.5 15.3-11.1 31-21.8 46.3-22.6 32.3-59.5 63.8-105.7 87.8-46.2 24.1-93.1 36.2-132.5 36.2-18.6 0-35.84-2.8-50.37-8.7l10.59 20.4c10.08 19.4 35.47 30.5 71.18 30.5 35.7 0 80.3-11.2 124.2-34.1 44-22.8 78.8-52.9 99.2-82.2 20.4-29.2 26-56.4 15.9-75.7zm28.8 16.8c11.2 26.7 2.2 59.2-19.2 89.7-18.9 27.1-47.8 53.4-83.6 75.4 11.1 1.2 22.7 1.8 34.5 1.8 49.5 0 94.3-10.6 125.9-27.1 31.7-16.5 49.1-38.1 49.1-59.9 0-21.8-17.4-43.4-49.1-59.9-16.1-8.4-35.7-15.3-57.6-20zm106.7 124.8c-10.2 11.9-24.2 22.4-40.7 31-35 18.2-82.2 29.1-134.3 29.1-21.2 0-41.6-1.8-60.7-5.2-23.2 11.7-46.5 20.4-68.9 26.1 1.2.7 2.4 1.3 3.7 2 31.6 16.5 76.4 27.1 125.9 27.1s94.3-10.6 125.9-27.1c31.7-16.5 49.1-38.1 49.1-59.9z",512,512);var ct;ct=new URL(i("27Lyk").resolve("cLiSR"),import.meta.url).toString();const lt=new URL(ct).href;var ht;ht=new URL(i("27Lyk").resolve("ltDU3"),import.meta.url).toString();const ft=new URL(ht).href;var pt;pt=new URL(i("27Lyk").resolve("guyr3"),import.meta.url).toString();const dt=new URL(pt).href;class gt extends o{constructor(t,e,n){super(document.createElement("div")),this.coins=e,this.interaction=n,this.output=document.createElement("output"),this.sounds=new O,this.classes="coin-counter",this.append(ut.clone()),this._count=t,this.updateCount(),this.element.appendChild(this.output),this.sounds.loadSound("tick",lt,.2),this.sounds.loadSound("coins",ft,.5),this.sounds.loadSound("drop",dt)}get count(){return this._count}set count(t){this._count=t,this.emit("change",this._count),this.updateCount()}updateCount(){this.output.textContent=this._count.toString()}setCountAnimated(t){this.count=t,this.animate()}animate(){this.output.animate({transform:["scale(1)","scale(2)","scale(0.9)","scale(1.2)","scale(1)"]},{duration:200})}async tick(){this.sounds.play("tick"),this.interaction.interact(!0),this.coins.interact(),await f(500),this.setCountAnimated(this.count+1),this.sounds.play("coins")}async add(t){this.interaction.interact(!1),this.coins.interact(),await f(500),this.sounds.play("coins"),this.setCountAnimated(this.count+t)}reset(){this.interaction.emit(this.x,this.y,!0,Math.min(this.count,100)),this.setCountAnimated(0),this.sounds.play("drop")}calculateCenterPosition(t,e){super.calculateCenterPosition(t,e),this.y+=48}}class vt extends o{constructor(t,e){super(document.createElement("dialog")),this.classes="modal",this.element.appendChild(this.headerEl),this.headerEl.appendChild(this.titleEl),this.titleEl.textContent=t,this.headerEl.appendChild(this.closeBtn),this.closeBtn.textContent="×",this.closeBtn.type="button",this.closeBtn.onclick=()=>this.close(),this.closeBtn.hidden=!e}titleEl=document.createElement("span");headerEl=document.createElement("h1");closeBtn=document.createElement("button");get title(){return this.titleEl.textContent??""}set title(t){this.titleEl.textContent=t}open(){this.element.showModal();const t=t=>{var e=this.rect;e.top<=t.clientY&&t.clientY<=e.top+e.height&&e.left<=t.clientX&&t.clientX<=e.left+e.width||this.close()};return this.once("click",t),new Promise((e=>{this.once("close",(()=>{this.off("click",t),e(this.element.returnValue)}))}))}close(){this.element.close()}get isOpen(){return this.element.open}}class mt extends s{constructor(t,e=t,n=!0){super(t,n),this.offLabel=t,this.onLabel=e,this.setText=n,this.value=!1,this.enableClick=!0,this.element.setAttribute("aria-pressed","false"),this.on("click",this.onClick.bind(this))}get checked(){return this.value}set checked(t){const e=this.value;this.value=t,this.element.setAttribute("aria-pressed",t?"true":"false"),this.label=t?this.onLabel:this.offLabel,this.setText&&(this.text=this.label),this.value!==e&&this.emit("change",t)}onClick(){this.enableClick&&(this.checked=!this.checked)}}class _t extends vt{constructor(){super("Login",!0),this.markup(),this.events(),this.update()}mode="login";form=document.createElement("form");email=document.createElement("input");password=document.createElement("input");passwordRepeat=document.createElement("input");emailLabel=document.createElement("label");passwordLabel=document.createElement("label");passwordRepeatLabel=document.createElement("label");submit=document.createElement("button");tabs=document.createElement("menu");loginTab=new mt("Login");signupTab=new mt("Sign up");markup(){this.classes.add("auth-modal"),this.element.appendChild(this.form),this.form.appendChild(this.emailLabel),this.email.type="email",this.email.placeholder="Email";let t=document.createElement("span");t.textContent="Email",this.emailLabel.appendChild(t),this.emailLabel.appendChild(this.email),this.form.appendChild(this.passwordLabel),this.password.type="password",this.password.placeholder="Password",t=document.createElement("span"),t.textContent="Password",this.passwordLabel.appendChild(t),this.passwordLabel.appendChild(this.password),this.form.appendChild(this.passwordRepeatLabel),this.passwordRepeat.type="password",this.passwordRepeat.placeholder="Repeat password",t=document.createElement("span"),t.textContent="Repeat password",this.passwordRepeatLabel.appendChild(t),this.passwordRepeatLabel.appendChild(this.passwordRepeat),this.form.appendChild(this.submit),this.submit.textContent="Sign in",this.submit.type="submit",this.element.appendChild(this.tabs),this.tabs.appendChild(this.loginTab.element),this.tabs.appendChild(this.signupTab.element)}update(){this.title="login"===this.mode?"Login":"Registration",this.loginTab.checked="login"!==this.mode,this.signupTab.checked="signup"!==this.mode,this.submit.textContent="login"===this.mode?"Sign in":"Sign up",this.passwordRepeatLabel.hidden="login"===this.mode}events(){this.on("open",(()=>this.reset())),this.on("close",(()=>this.blur())),this.loginTab.on("click",(()=>{this.mode="login",this.reset()})),this.signupTab.on("click",(()=>{this.mode="signup",this.reset()})),this.form.addEventListener("submit",(t=>{t.preventDefault(),"login"===this.mode?this.emit("login",{email:this.email.value,password:this.password.value}):this.emit("signup",{email:this.email.value,password:this.password.value}),this.close()}))}reset(){this.update(),this.email.value="",this.password.value="",this.passwordRepeat.value="",this.focus()}open(t="login"){return this.mode=t,this.isHidden=!1,this.reset(),super.open()}blur(){this.email.blur(),this.password.blur(),this.passwordRepeat.blur()}focus(){this.blur(),setTimeout((()=>this.email.focus({preventScroll:!0})),100)}close(){return this.reset(),this.blur(),setTimeout((()=>{this.isHidden=!0}),100),super.close()}}class yt extends o{constructor(){super(document.createElement("div")),this.markup()}_streamer=null;get streamer(){if(!this._streamer)throw new Error("Streamer not set");return this._streamer}set streamer(t){this._streamer=t,this.update(),this.followButton.on("change",(()=>{this.update()}))}profileImage=document.createElement("img");name=document.createElement("div");firstName=document.createElement("span");lastName=document.createElement("span");followers=document.createElement("div");followersCount=document.createElement("span");followButton=new mt("Follow","Following");get followCount(){return this.streamer.coins}markup(){this.classes="streamer-info",this.name.append(this.firstName,this.lastName),this.followers.append(this.followersCount," followers"),this.element.append(this.profileImage,this.name,this.followers,this.followButton.element)}update(){this._streamer&&(this.profileImage.src=this._streamer.avatar,this.firstName.textContent=this._streamer.firstName,this.lastName.textContent=this._streamer.lastName,this.followersCount.textContent=`${this.followCount+(this.followButton.checked?1:0)}`)}}const wt={x:0,y:0},bt=[new X({position:16,velocity:{x:500,y:[-500,100]},acceleration:{x:0,y:[250,1e3]}})],xt=new W([t=>t.r=l(5,10),(t,e)=>(1-Z(e))*t.r],!0,!0),kt=new q(["gold","silver","DarkOrange","SlateGray","LightSlateGray","white","hotpink","gold","red"],((t,e)=>e?l(0,4):5));class Et extends tt{constructor(t,e){super(t,e,{capacity:1e3,rate:20,timeout:.1,simulators:bt,graphics:xt,theme:kt})}interact(t){this.emit(this.x,this.y,t)}updateCoinPosition(t,e){wt.x=t,wt.y=e}}const Ct={x:0,y:0},Rt=[new X({position:30,velocity:30,acceleration:0}),new class{constructor(t,e=J,n=e){this.position=t,this.easingX=e,this.easingY=n}initialize(t,e){}tick(t,e){}lerp(t,e){this.easingX(e),this.easingY(e);t.x=Q(t.x,this.position.x,e),t.y=Q(t.y,this.position.y,Y(e))}}(Ct,J,Y)],At=new W([t=>t.r=l(10,20),(t,e)=>(1-Z(e))*t.r],!0),Lt=new G(new q(["gold","silver","DarkOrange","SlateGray","LightSlateGray"]));class St extends tt{constructor(t,e){super(t,e,{capacity:1e3,rate:5,speed:.25,timeout:.5,simulators:Rt,graphics:At,theme:Lt})}interact(){this.emit(this.x,this.y)}updateCoinPosition(t,e){Ct.x=t,Ct.y=e}}const It={none:0,metadata:1,data:2,canplay:3,canplaythrough:4},jt={[It.none]:"none",[It.metadata]:"metadata",[It.data]:"data",[It.canplay]:"canplay",[It.canplaythrough]:"canplaythrough"};class Tt extends o{constructor(t,{autoplay:e=!1,controls:n=!1,hidden:r=!1,muted:i=!1,loop:o=!1}={}){super(t),this.isAutoplayEnabled=e,this.isControlsVisible=n,this.isHidden=r,this.isMuted=i,this.isLooping=o}load(t,e){return e&&(this.element.crossOrigin=e),"string"==typeof t?this.element.src=t:"srcObject"in this.element?this.element.srcObject=t:this.element.src=URL.createObjectURL(t),new Promise(((e,n)=>{this.once("error",(()=>n(new Error(`Failed to load media: ${t}`)))),this.once("loadedmetadata",(()=>e()))}))}get isAutoplayEnabled(){return this.element.autoplay}set isAutoplayEnabled(t){this.element.autoplay=t}get isControlsVisible(){return this.element.controls}set isControlsVisible(t){this.element.controls=t}showControls(){this.isControlsVisible=!0}hideControls(){this.isControlsVisible=!1}play(){return this.element.play()}pause(){this.element.pause()}get isMuted(){return this.element.muted}set isMuted(t){this.element.muted=t}get volume(){return this.element.volume}set volume(t){this.element.volume=t}get isPaused(){return this.element.paused}get isPlaying(){return!this.isPaused}get time(){return this.element.currentTime}set time(t){this.element.currentTime=t}get duration(){return this.element.duration}get isEnded(){return this.element.ended}get isLooping(){return this.element.loop}set isLooping(t){this.element.loop=t}get rate(){return this.element.playbackRate}set rate(t){this.element.playbackRate=t}get readyState(){const t=this.element.readyState,e=jt[t];if(null==e)throw new Error(`Unknown ready state: ${t}`);return e}isReady(t){const e=It[t];return this.element.readyState>=e}get buffered(){return this.element.buffered.end(0)/this.duration}get played(){return this.time/this.duration}}class zt extends Tt{constructor(t){super(document.createElement("video"),t),this.element.playsInline=!0}}class Ot extends o{constructor(){super(document.createElement("div")),this.classes="vignette"}}class Pt extends o{constructor(){super(document.createElement("div")),this.classes="stream";for(const t of this.videos)t.isMuted=!0,t.isHidden=!0;this.append(...this.videos,this.vignette),this.updateVideo=this.updateVideo.bind(this),this.initialize()}vignette=new Ot;videos=[new zt,new zt];currentVideoIndex=0;get nextVideoIndex(){return(this.currentVideoIndex+1)%this.videos.length}get currentVideo(){return this.videos[this.currentVideoIndex]}get nextVideo(){return this.videos[this.nextVideoIndex]}playlist=u(Ut);index=0;get videoUrl(){return this.playlist[this.index]}onVideoEnd(){this.index=(this.index+1)%this.playlist.length,0===this.index&&(this.playlist=u(Ut))}async initialize(){try{await this.currentVideo.load((t=Ut,t[Math.floor(Math.random()*t.length)]),"anonymous"),this.updateVideo()}catch{this.initialize()}var t}async updateVideo(){const t=this.currentVideo;this.nextVideo.isHidden=!0,t.isHidden=!1,this.onVideoEnd(),this.nextVideo.load(this.videoUrl,"anonymous"),t.rate=1.25,t.once("ended",this.updateVideo),t.play(),this.currentVideoIndex=this.nextVideoIndex}}const Ut=["https://blfunex.github.io/videos/blue.mp4",...(Bt=46,Mt=t=>`https://blfunex.github.io/videos/pexels/${t}.mp4`,Array.from({length:Bt},((t,e)=>Mt(e))))];var Bt,Mt;const Nt=new j("M4.85355 2.14645C5.04882 2.34171 5.04882 2.65829 4.85355 2.85355L3.70711 4H9C11.4853 4 13.5 6.01472 13.5 8.5C13.5 10.9853 11.4853 13 9 13H5C4.72386 13 4.5 12.7761 4.5 12.5C4.5 12.2239 4.72386 12 5 12H9C10.933 12 12.5 10.433 12.5 8.5C12.5 6.567 10.933 5 9 5H3.70711L4.85355 6.14645C5.04882 6.34171 5.04882 6.65829 4.85355 6.85355C4.65829 7.04882 4.34171 7.04882 4.14645 6.85355L2.14645 4.85355C1.95118 4.65829 1.95118 4.34171 2.14645 4.14645L4.14645 2.14645C4.34171 1.95118 4.65829 1.95118 4.85355 2.14645Z",15,15);class Ft extends s{constructor(t){super("Reset",!1),this.app=t,this.append(Nt),this.classes="reset-button debug-button",this.on("click",(()=>t.onReset()))}}const Ht=new j("M908.1 353.1l-253.9-36.9L540.7 86.1c-3.1-6.3-8.2-11.4-14.5-14.5-15.8-7.8-35-1.3-42.9 14.5L369.8 316.2l-253.9 36.9c-7 1-13.4 4.3-18.3 9.3a32.05 32.05 0 0 0 .6 45.3l183.7 179.1-43.4 252.9a31.95 31.95 0 0 0 46.4 33.7L512 754l227.1 119.4c6.2 3.3 13.4 4.4 20.3 3.2 17.4-3 29.1-19.5 26.1-36.9l-43.4-252.9 183.7-179.1c5-4.9 8.3-11.3 9.3-18.3 2.7-17.5-9.5-33.7-27-36.3z",1024,1024);class Vt extends o{constructor(t,e,n,r){super(document.createElement("li")),this.table=t,this.user=n,this.customerId=r,this.rankNumber=document.createElement("span"),this.profileImage=document.createElement("img"),this.name=document.createElement("div"),this.firstName=document.createElement("span"),this.lastName=document.createElement("span"),this.username=document.createElement("span"),this.coins=document.createElement("div"),this.coinCount=document.createElement("span"),this.star=Ht.clone(),this.markup(),this._rank=e}get rank(){return this._rank}set rank(t){this._rank=t,this.updateRank()}markup(){this.classes="leader-board-rank";const t=document.createElement("div");t.append(this.firstName,this.lastName),this.star.classes="star",this.star.isHidden=!0,this.username.className="username",this.name.className="name",this.name.append(this.star.element,t,this.username),this.coins.className="coins",this.coins.append(this.coinCount,ut.clone().element),this.element.append(this.rankNumber,this.profileImage,this.name,this.coins)}update(){this.rankNumber.textContent=`${d(this.rank)}.`,this.profileImage.src=this.user.avatar,this.firstName.textContent=this.user.firstName,this.lastName.textContent=this.user.lastName,this.username.textContent=`@${this.user.username}`,this.coinCount.textContent=`${this.user.coins}`;const t=this.user.id===this.customerId;this.star.isHidden=!t,this.updateRank()}updateRank(){this.rankNumber.textContent=`${this.rank}.`,this.style.order=`${this.rank}`;const t=1===this.rank,e=this.rank<=10,n=this.rank>=this.table.lines.length-10,r=this.rank===this.table.lines.length,i=this.user.id===this.customerId,o=this.table.leaderboard.isOpen,s=this.table.isScrolling;this.classes.toggle("customer",i),this.classes.toggle("top",t),this.classes.toggle("top-ten",e),this.classes.toggle("bottom-ten",n),this.classes.toggle("bottom",r);(t||e||n||r)&&i&&!s&&(o||this.table.leaderboard.open(),this.element.scrollIntoView({behavior:"smooth"}))}startRandomRankChanges(){this.interact()}async interact(){const t=l(1e3,3e4);await f(t);if(this.user.id===this.customerId)return;const e=this.rank<=10,n=this.rank<=30,r=this.rank>=this.table.lines.length-30,i=l(1,e?1:n?100:r?200:300);this.user.coins+=i,this.table.sort()}}class $t extends o{constructor(t){super(document.createElement("ol")),this.leaderboard=t,this.isScrolling=!1,this.classes="leader-board-table",this.on("scroll",(()=>{this.isScrolling=!0,clearTimeout(undefined),setTimeout((()=>{this.isScrolling=!1}),1e3)}))}get users(){return this.leaderboard.app.state.users.users}get customerId(){return this.leaderboard.app.state.users.customerId}populate(){this.lines=this.users.sort(((t,e)=>e.coins-t.coins)).map(((t,e)=>{const n=new Vt(this,e+1,t,this.customerId);return this.element.append(n.element),n}));for(const t of this.lines)t.update();this.startRandomRankChanges()}changeUsers(t,e){if(t.length!==this.lines.length)throw new Error("Cannot change users with different length");for(let n=0;n<t.length;n++){const r=this.lines[n];r.user=t[n],r.customerId=e}this.sort()}startRandomRankChanges(){for(const t of this.lines)t.startRandomRankChanges()}sort(){this.lines.sort(((t,e)=>e.user.coins-t.user.coins));for(let t=0;t<this.lines.length;t++){this.lines[t].rank=t+1}}}class Wt extends vt{constructor(t){super("Leader Board",!0),this.app=t,this.table=new $t(this),this.classes.add("leaderboard"),this.element.append(this.table.element)}populate(){this.table.populate()}}const Dt=new j("M13 3v-2h-10v2h-3v2c0 1.657 1.343 3 3 3 0.314 0 0.616-0.048 0.9-0.138 0.721 1.031 1.822 1.778 3.1 2.037v3.1h-1c-1.105 0-2 0.895-2 2h8c0-1.105-0.895-2-2-2h-1v-3.1c1.278-0.259 2.378-1.006 3.1-2.037 0.284 0.089 0.587 0.138 0.9 0.138 1.657 0 3-1.343 3-3v-2h-3zM3 6.813c-0.999 0-1.813-0.813-1.813-1.813v-1h1.813v1c0 0.628 0.116 1.229 0.327 1.782-0.106 0.019-0.216 0.030-0.327 0.030zM14.813 5c0 0.999-0.813 1.813-1.813 1.813-0.112 0-0.221-0.011-0.327-0.030 0.211-0.554 0.327-1.154 0.327-1.782v-1h1.813v1z",16,16);class qt extends s{constructor(){super("Show Leader Board",!1),this.classes="leader-board-button",this.append(Dt.clone())}}const Gt=500,Yt=50,Zt=100,Jt=200,Kt=5;new class extends a{constructor(){super(),this.markup(),this.events()}leaderboard=new Wt(this);showLBBtn=new qt;shareBtn=new s("Share");resetBtn=new Ft(this);loop=new at(30);hearts=new st(this.loop);interaction=new Et(this.loop,this.hearts.context);coins=new St(this.loop,this.hearts.context);state=new E;counter=new gt(this.state.app.coins,this.coins,this.interaction);auth=new _t;streamer=new yt;stream=new Pt;markup(){const t=this.state,e=this.streamer.followButton,n=this.streamer;t.ready.then((()=>{n.streamer=t.users.streamer,this.leaderboard.populate(),this.leaderboard.open()})),e.checked=t.app.following,e.enableClick=t.app.loggedIn,this.hearts.enableClick=t.app.loggedIn,this.append(this.stream,this.streamer,this.shareBtn,this.resetBtn,this.showLBBtn,this.counter,this.hearts.button,this.hearts.canvas,this.leaderboard,this.auth)}events(){this.attachLeaderBoardEvents(),this.attachHeartEvents(),this.attachShareClick(),this.attachFollowClick(),this.attachAuthEvents(),this.rescheduleCounterTick(),this.attachCounterToState(),this.interaction.attachMouseTracker(),this.coins.attachMouseTracker(),this.patchMobile()}attachLeaderBoardEvents(){this.showLBBtn.on("click",(()=>this.leaderboard.open()))}attachHeartEvents(){this.hearts.canvas.on("resize",(t=>{const[e,n]=t.detail,r=this.counter;this.hearts.button.calculateCenterPosition(e,n),r.calculateCenterPosition(e,n),this.coins.updateCoinPosition(r.x,r.y)})),this.hearts.button.on("click",(()=>{this.enforceLogin()&&this.counter.add(Kt)}))}attachCounterToState(){this.counter.on("change",(t=>{this.state.app.coins=t.detail}))}attachShareClick(){this.shareBtn.on("click",(async()=>{void 0===navigator.share?(alert(["ℹ️ INFO:\n","Sharing is not supported on this browser :(","You will get 10 coins for attempting to share 💰.","Try with a more modern browser next time.","Sorry!"].join("\n")),this.counter.add(10)):(await navigator.share({title:"Be a cool stromer!",text:"Check out this cool stream.",url:"https://blfunex.github.io/stromer/"}),this.counter.add(Jt))}))}attachFollowClick(){const t=this.state,e=this.streamer.followButton;e.on("change",(async e=>{t.app.following=e.detail,t.app.following&&!t.app.rewardedForFollowing&&(await f(200),this.counter.add(Zt),t.app.rewardedForFollowing=!0)})),e.on("click",(()=>{this.enforceLogin()&&(e.enableClick=!0)}))}async onReset(){const t=this.state;if(!t.app.knowsResetInfo){if(!confirm(["⚠️ WARNING:\n","Are you sure you want to reset the prototype?","This will reset your coins and progress.","New mock data will be loaded.","This is not a real app, so don't worry about it.","⚠️ You will not see this message next reset attempt."].join("\n")))return;t.app.knowsResetInfo=!0}await t.reset(),this.streamer.streamer=t.users.streamer,this.streamer.followButton.checked=t.app.following,this.streamer.followButton.enableClick=t.app.loggedIn,this.hearts.enableClick=t.app.loggedIn,this.hearts.reset(),this.coins.reset(),this.interaction.reset(),this.counter.reset(),this.rescheduleCounterTick()}counterTickId=null;rescheduleCounterTick(){null!==this.counterTickId&&clearInterval(this.counterTickId),this.counterTickId=setInterval((()=>{this.counter.tick()}),1e4)}attachAuthEvents(){this.auth.on("signup",(()=>{this.state.app.loggedIn=!0,this.counter.add(Gt)})),this.auth.on("login",(()=>{this.state.app.loggedIn=!0,this.counter.add(Yt)}))}enforceLogin(){const t=this.state,e=this.auth;return!!t.app.loggedIn||(e.open("signup"),t.app.knowsHowToLogin||setTimeout((()=>{alert(["ℹ️ INFO:\n","This is not a real app,","you can use any credentials to login or signup.","This just for prototyping purposes.","Loging in is rewarded with only 50 coins,","but signing up is rewarded with 500 coins.","","⚠️ You will not see this message next login attempt."].join("\n")),t.app.knowsHowToLogin=!0}),100),!1)}patchMobile(){const t=this.state;/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)&&((window.onresize=()=>{const t=screen.height-300;document.documentElement.style.setProperty("--vh",`${t}px`)})(),t.app.knowsHowToFullscreen||(alert("Double tap to go fullscreen!"),t.app.knowsHowToFullscreen=!0),document.body.addEventListener("dblclick",(()=>{null===document.fullscreenElement&&document.body.requestFullscreen()})))}};
//# sourceMappingURL=index.77b95d34.js.map
